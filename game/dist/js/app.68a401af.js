(function(t){function e(e){for(var i,o,s=e[0],c=e[1],h=e[2],u=0,d=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);f&&f(e);while(d.length)d.shift()();return r.push.apply(r,h||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var h=0;h<s.length;h++)e(s[h]);var f=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"1f89":function(t){t.exports=JSON.parse('{"compressionlevel":-1,"editorsettings":{"export":{"target":"."}},"height":60,"infinite":false,"layers":[{"data":[24,24,24,24,24,24,24,24,23,23,24,23,23,23,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,23,23,24,23,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,24,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,23,23,23,24,24,24,24,24,24,24,24,24,24,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,24,23,23,23,24,24,24,24,24,24,24,24,24,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,24,24,23,23,24,24,24,24,24,24,24,24,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,11,15,15,12,24,24,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,7,1,2,8,12,23,24,23,23,23,23,23,23,23,23,24,24,24,24,11,15,12,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,11,7,2,2,2,3,1,8,12,24,23,23,23,23,24,23,23,24,24,24,24,14,1,8,12,24,23,23,23,23,24,24,23,24,24,24,24,24,24,24,23,23,23,23,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,23,14,1,1,1,3,3,3,3,3,8,12,24,24,24,23,23,23,24,24,24,11,7,1,1,8,12,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,23,24,14,1,3,3,4,3,3,1,1,1,8,12,23,23,23,23,24,11,15,15,7,1,1,4,1,8,12,24,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,23,23,24,24,24,24,23,24,24,18,1,3,1,4,1,3,1,1,1,1,8,12,24,24,24,24,18,1,1,3,1,4,1,1,1,8,12,24,23,23,23,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,14,3,1,3,4,1,3,1,1,1,5,17,9,23,23,23,24,18,1,1,3,3,1,1,1,1,1,8,12,24,23,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,10,6,3,3,4,1,3,1,1,1,8,12,23,23,23,23,23,18,1,1,1,3,1,1,1,1,1,1,16,23,24,24,23,23,23,23,23,24,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,14,3,3,1,3,3,1,1,1,1,20,23,23,23,23,23,18,1,1,1,1,1,4,1,1,1,1,8,12,23,23,24,23,23,23,23,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,1,1,3,3,1,1,1,1,1,20,23,23,23,23,23,18,1,3,3,2,3,3,3,1,1,3,3,16,23,23,23,24,23,23,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,1,3,4,1,1,1,1,1,1,20,23,23,23,23,23,18,1,3,3,1,3,2,2,1,4,1,1,8,12,23,11,15,12,24,23,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,11,7,1,3,4,1,1,1,5,13,13,9,23,23,23,23,18,1,1,1,3,3,1,1,4,1,1,4,1,1,8,12,14,1,8,12,24,23,23,23,23,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,3,1,4,4,1,1,1,20,23,23,23,23,23,23,23,10,6,1,3,3,3,3,3,3,3,3,3,3,1,1,8,7,1,1,1,8,12,24,23,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,10,6,1,4,1,1,1,1,20,23,23,23,23,23,23,23,23,10,6,1,1,1,2,1,2,2,2,2,1,1,1,1,1,1,1,1,1,8,12,24,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,10,6,4,1,1,1,1,20,23,23,23,23,23,23,23,23,23,10,6,1,3,3,2,3,1,1,4,1,1,4,1,3,3,3,1,1,1,1,8,12,24,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,10,6,1,1,1,1,20,23,23,23,23,23,23,23,23,23,23,10,1,3,3,1,3,2,3,3,3,3,1,1,4,1,1,4,1,3,3,3,8,12,24,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,23,23,23,23,24,10,6,1,1,1,20,23,23,23,23,23,23,23,23,23,23,23,6,1,3,3,3,1,3,2,2,3,1,1,4,1,1,4,1,3,3,3,1,8,12,24,24,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,23,24,14,1,1,1,1,20,12,23,23,23,23,23,23,11,19,12,18,3,3,3,3,3,1,1,4,3,2,3,3,3,1,1,3,3,1,3,1,1,8,12,23,24,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,10,6,1,1,1,1,8,12,23,23,23,23,23,18,1,20,10,13,3,3,1,3,2,2,3,3,1,3,2,2,1,4,1,1,4,1,1,1,1,8,15,12,24,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,23,14,3,1,1,1,1,8,12,23,23,23,23,10,13,9,23,23,1,3,3,1,1,4,3,3,3,3,1,1,4,1,1,4,1,3,3,3,1,1,1,8,12,24,23,23,24,24,24,24,24,24,24,24,23,24,24,24,24,24,23,18,3,3,1,1,1,1,8,12,23,23,23,23,23,23,23,23,3,3,3,3,3,3,3,3,1,3,3,1,1,4,1,1,4,1,3,3,3,1,1,2,8,12,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,14,2,2,3,1,1,1,1,20,23,23,23,23,23,23,23,23,6,1,1,2,3,3,3,3,3,3,3,2,3,3,3,1,1,3,3,1,3,2,2,2,2,16,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,2,3,3,3,1,1,3,8,12,23,23,23,23,23,23,15,7,1,1,3,3,3,3,3,1,1,4,1,1,4,1,3,3,3,1,4,1,1,1,1,1,8,12,24,23,23,23,24,24,24,24,23,24,24,24,24,24,24,24,18,1,3,2,2,1,4,1,1,8,12,23,23,23,23,7,1,1,2,3,3,3,1,1,3,2,3,3,3,1,1,3,3,1,3,1,4,1,3,3,3,1,1,8,12,23,23,24,24,24,24,24,23,23,24,24,24,24,24,24,18,3,1,1,4,1,1,4,1,1,8,19,19,19,7,1,1,1,3,3,3,1,1,4,1,1,4,1,3,3,3,1,1,4,1,3,1,3,3,1,3,1,1,1,16,24,23,23,23,24,24,24,23,23,23,24,24,24,24,24,14,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,3,1,3,2,3,3,3,1,1,3,3,1,3,4,1,1,4,3,4,1,1,4,1,1,1,5,9,24,24,23,24,24,24,24,23,23,23,23,24,24,24,24,18,1,3,2,2,1,4,1,1,3,2,1,1,1,1,1,1,3,3,1,3,1,3,2,2,1,4,1,1,4,1,4,1,1,4,1,1,4,1,1,4,1,1,16,24,24,24,23,24,24,24,24,23,23,23,23,24,24,24,24,18,3,1,1,4,1,1,4,1,1,2,2,2,3,3,1,1,3,3,2,3,3,1,1,4,1,1,4,1,1,4,1,4,1,1,4,1,3,2,2,1,1,1,8,12,24,23,23,24,24,24,24,24,24,23,23,24,24,24,24,18,3,3,3,3,3,1,1,4,1,1,4,1,3,3,2,3,3,3,1,3,2,2,1,4,1,1,4,1,4,1,1,4,1,1,4,1,4,1,3,3,3,1,2,16,24,24,24,24,24,24,24,23,23,23,23,24,24,24,11,7,3,3,3,3,3,2,3,3,3,1,1,3,3,3,1,3,3,3,3,1,1,4,1,1,4,1,1,4,2,1,3,1,1,4,1,1,4,1,3,3,3,1,5,9,24,24,24,24,24,24,24,24,23,23,24,11,19,19,7,3,3,3,3,3,3,1,3,2,2,1,4,1,3,3,3,1,3,3,3,1,1,4,1,1,4,1,1,4,4,1,3,1,1,4,1,1,4,1,3,3,3,1,16,24,24,24,24,24,24,24,24,24,24,24,24,14,3,3,3,3,3,3,3,3,3,3,1,1,4,1,1,4,1,1,4,3,3,1,3,3,2,3,3,3,3,3,1,1,4,1,3,2,3,3,3,1,1,3,3,1,3,1,8,12,24,24,24,24,24,24,24,24,24,24,24,14,1,1,3,3,3,3,3,3,3,3,3,3,3,1,3,2,2,1,4,1,1,4,1,3,1,3,2,2,3,3,1,1,3,1,1,4,1,1,4,1,3,3,3,4,1,1,1,16,24,24,24,24,24,24,24,24,24,24,24,18,1,1,1,1,3,1,1,1,1,1,1,1,3,3,1,3,1,1,4,1,1,4,1,3,3,3,3,3,3,3,4,1,3,2,3,3,3,1,1,3,3,1,3,1,4,1,1,16,23,24,24,24,24,24,24,24,24,24,24,14,1,1,1,1,3,1,5,13,13,13,6,1,1,2,3,3,2,3,3,3,1,1,3,3,1,3,3,3,1,3,1,4,3,1,3,2,2,1,4,1,1,4,1,3,3,1,1,8,12,23,24,24,24,24,24,24,24,24,24,10,6,1,1,1,5,13,9,24,23,24,10,6,1,1,2,3,1,3,2,2,1,4,1,1,4,1,1,1,4,1,3,3,3,3,1,1,4,1,1,4,1,1,4,1,2,4,1,3,16,24,24,24,24,24,24,24,24,24,24,24,10,6,5,13,9,24,24,24,24,24,24,10,6,1,2,3,3,1,1,4,1,1,4,1,1,4,4,1,1,4,3,2,2,1,4,1,1,4,1,4,1,3,3,3,2,2,1,1,20,23,24,24,24,24,24,24,24,24,24,24,24,10,9,23,24,24,24,24,24,24,24,19,7,1,1,2,3,3,1,1,4,1,1,4,1,1,4,1,3,3,1,1,4,1,1,4,1,1,4,1,3,3,1,3,4,3,1,3,20,23,23,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,19,1,1,1,3,2,2,3,1,1,4,1,1,4,1,3,3,3,3,1,3,2,2,1,4,1,1,4,1,4,1,1,4,1,3,3,1,1,16,23,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,1,3,3,3,1,4,1,3,2,3,3,3,1,1,3,3,1,3,3,3,1,1,4,1,1,4,1,1,4,1,4,1,1,4,1,3,3,5,9,23,23,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,1,1,1,1,3,3,1,3,1,3,2,2,1,4,1,3,1,1,4,1,1,3,1,1,4,1,1,4,1,3,3,3,3,3,1,4,4,16,23,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,23,23,23,24,24,24,6,1,3,1,1,3,3,3,3,1,1,4,1,1,4,3,2,3,3,3,1,3,2,3,3,3,1,1,3,3,1,3,3,3,3,1,2,20,24,23,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,10,17,6,1,1,1,3,1,3,3,1,3,3,3,3,3,1,3,2,2,1,3,1,3,2,2,1,4,1,1,4,1,3,3,3,2,2,16,24,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,1,8,19,7,3,1,1,3,1,3,3,1,1,1,1,1,3,3,1,1,4,1,3,3,1,1,4,1,1,4,1,1,4,3,3,1,4,5,9,24,24,23,24,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,24,19,1,1,2,1,1,3,1,1,3,3,3,3,3,1,3,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,5,9,24,24,24,24,23,23,24,24,23,24,24,24,24,24,23,23,24,23,24,24,14,1,1,1,2,2,1,1,3,2,2,2,3,3,3,5,13,13,6,1,3,3,3,3,3,3,5,6,3,3,3,3,3,1,4,1,1,5,9,24,24,24,23,24,24,24,23,23,23,23,24,24,24,23,23,24,24,24,24,24,14,1,1,2,2,3,2,2,3,2,3,2,2,5,13,9,24,24,10,6,3,3,3,3,3,3,16,10,6,3,3,3,3,3,3,1,5,9,24,24,23,23,23,23,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,14,1,2,2,3,2,3,3,1,3,3,1,5,9,23,24,24,24,24,10,13,13,6,1,1,1,16,23,10,6,1,1,3,3,3,5,9,24,24,23,23,23,23,23,24,24,24,24,23,24,23,23,24,24,24,24,24,24,24,24,14,1,1,1,1,3,3,1,1,1,1,5,9,24,24,23,24,24,24,24,24,24,10,13,17,13,9,24,24,10,6,3,3,5,13,9,24,23,23,23,23,23,23,23,23,24,24,24,23,24,24,24,24,24,24,24,24,23,24,24,10,6,3,3,3,5,17,13,17,17,13,9,24,23,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,24,10,17,17,9,24,24,23,24,24,23,23,23,24,23,23,24,23,24,23,23,24,24,24,24,24,24,24,24,23,23,23,10,13,13,13,9,24,24,24,24,24,24,24,23,23,24,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,24,24,23,23,24,23,23,23,24,24,23,23,24,24,24,24,23,23,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,23,23,23,23,24,24,23,24,24,24,24,24,24,23,23,23,24,23,23,23,23,24,24,24,24],"height":60,"id":1,"name":"Tile Layer 1","opacity":1,"type":"tilelayer","visible":true,"width":60,"x":0,"y":0}],"nextlayerid":2,"nextobjectid":1,"orientation":"isometric","renderorder":"right-down","tiledversion":"1.4.3","tileheight":32,"tilesets":[{"columns":4,"firstgid":1,"image":"isometric-grass-and-water.png","imageheight":384,"imagewidth":256,"margin":0,"name":"isometric_grass_and_water","spacing":0,"terrains":[{"name":"Grass","tile":0},{"name":"Water","tile":22}],"tilecount":24,"tileheight":64,"tileoffset":{"x":0,"y":16},"tiles":[{"id":0,"terrain":[0,0,0,0]},{"id":1,"terrain":[0,0,0,0]},{"id":2,"terrain":[0,0,0,0]},{"id":3,"terrain":[0,0,0,0]},{"id":4,"terrain":[0,0,0,1]},{"id":5,"terrain":[0,0,1,0]},{"id":6,"terrain":[1,0,0,0]},{"id":7,"terrain":[0,1,0,0]},{"id":8,"terrain":[0,1,1,1]},{"id":9,"terrain":[1,0,1,1]},{"id":10,"terrain":[1,1,1,0]},{"id":11,"terrain":[1,1,0,1]},{"id":12,"terrain":[0,0,1,1]},{"id":13,"terrain":[1,0,1,0]},{"id":14,"terrain":[1,1,0,0]},{"id":15,"terrain":[0,1,0,1]},{"id":16,"terrain":[0,0,1,1]},{"id":17,"terrain":[1,0,1,0]},{"id":18,"terrain":[1,1,0,0]},{"id":19,"terrain":[0,1,0,1]},{"id":20,"terrain":[0,1,1,0]},{"id":21,"terrain":[1,0,0,1]},{"id":22,"terrain":[1,1,1,1]},{"id":23,"terrain":[1,1,1,1]}],"tilewidth":64}],"tilewidth":64,"type":"map","version":1.4,"width":60}')},"27be":function(t,e,n){"use strict";n("f87a")},"40f7":function(t,e,n){t.exports=n.p+"img/zombie.63425a70.png"},4210:function(t,e,n){t.exports=n.p+"img/spider.4bcd52b1.png"},5865:function(t,e,n){t.exports=n.p+"img/skeleton.1b384832.png"},"59c9":function(t,e,n){t.exports=n.p+"img/minotaur.ae8ab920.png"},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function a(t,e,n,a,r,o){var s=Object(i["h"])("Game");return Object(i["e"])(),Object(i["b"])(s)}var r=n("d4ec"),o=n("262e"),s=n("2caf"),c=n("9ab4"),h=n("ce1f"),f={ref:"root"};function u(t,e,n,a,r,o){return Object(i["e"])(),Object(i["b"])("div",f,null,512)}var d=n("b85c"),l=n("bee2"),m=n("d4ef"),p=n.n(m),y=(n("caad"),function(){for(var t=[],e=[],n=this.cache.json.get("map"),i=n.tilewidth,a=n.tileheight,r=i/2,o=a/2,s=n.layers[0].data,c=n.layers[0].width,h=n.layers[0].height,f=0,u=0,d=0,l=0;l<h;l++)for(var m=0;m<c;m++){var p=s[d]-1,y=(m-l)*r,v=(m+l)*o,g=this.add.image(f+y,u+v,"tiles",p);[22,23].includes(p)&&t.push(new Phaser.Geom.Rectangle(g.x-10,g.y-10,g.width,g.height)),[1,2,3].includes(p)&&e.push(new Phaser.Geom.Rectangle(g.x-10,g.y-10,g.width,g.height)),d++}return{water:t,grass:e}}),v=function(){this.load.json("map",n("1f89")),this.load.spritesheet("tiles",n("faa3"),{frameWidth:64,frameHeight:64})},g=[],b=[];function w(){return b[Math.floor(Math.random()*b.length)]}var O,k,x={preload:v,create:function(){var t=y.apply(this,[]),e=t.water,n=t.grass;g=e,b=n}},j=function(){var t=this;this.cameras.main.scrollX=-800,this.cameras.main.scrollY=600,window.addEventListener("resize",(function(e){t.game.scale.setGameSize(window.innerWidth,window.innerHeight),t.cameras.main.setSize(window.innerWidth,window.innerHeight)}))},F=n("257e"),P=n("45eb"),I=n("7e84");function W(t){var e=t.area;e.x=t.x+t.directionOffset.x*t.info.speed+30,e.y=t.y+t.directionOffset.y*t.info.speed+30;var n,i=Object(d["a"])(g);try{for(i.s();!(n=i.n()).done;){var a=n.value,r=Phaser.Geom.Intersects.GetCircleToRectangle(e,a);if(r.length)return!0}}catch(o){i.e(o)}finally{i.f()}return!1}function G(t,e){return Phaser.Geom.Intersects.GetCircleToCircle(t.area,e.area).length>0}function S(t,e){return Phaser.Geom.Intersects.GetCircleToCircle(t.area,e.areaAttack).length>0}(function(t){t["west"]="west",t["northWest"]="northWest",t["north"]="north",t["northEast"]="northEast",t["east"]="east",t["southEast"]="southEast",t["south"]="south",t["southWest"]="southWest"})(O||(O={})),function(t){t["idle"]="idle",t["walk"]="walk",t["attack"]="attack",t["die"]="die",t["shoot"]="shoot"}(k||(k={}));var C={update:function(){}},E=n("8e27"),H=function(){function t(){Object(r["a"])(this,t)}return Object(l["a"])(t,[{key:"connect",value:function(t){var e=this,n="ws://46.17.40.175:3000";this.socket=Object(E["io"])(n,{reconnectionDelayMax:1e3}),this.socket.on("connect",(function(){e.id=e.socket.id,t()}))}},{key:"on",value:function(t,e){this.socket.on(t,e)}},{key:"emit",value:function(t,e){this.socket.emit(t,e)}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}();function K(t){H.getInstance().connect(t)}function M(t){t.id=H.getInstance().id,H.getInstance().emit("initPlayer",t)}function D(t){H.getInstance().on("initPlayer",(function(e){t(e)}))}function A(t){t.id=H.getInstance().id,H.getInstance().emit("updatePlayer",t)}function _(t){H.getInstance().on("updatePlayer",(function(e){t(e)}))}function z(t){H.getInstance().on("disconectitem",(function(e){t(e)}))}function T(){H.getInstance().emit("attackPlayer",H.getInstance().id)}function X(t){H.getInstance().on("attackPlayer",(function(e){t(e)}))}function Y(t){H.getInstance().on("bonus",(function(e){t(e)}))}function R(t){H.getInstance().on("removebonus",(function(e){t(e)}))}function J(t){H.getInstance().emit("removebonus",t)}function L(t){H.getInstance().emit("initbonuses",t)}function B(t){H.getInstance().on("initbonuses",t)}var N=function(){K((function(){}))};function q(t){Y(t)}function Q(t){J(t)}function U(t){R(t)}function V(t){L(t)}function Z(t){B(t)}function $(t){var e=t.spritesheet.sprite,n=t.directionOffset,i=t.directionKey,a=t.motionKey,r=t.x,o=t.y,s=t.info;M({sprite:e,directionOffset:n,directionKey:i,motionKey:a,x:r,y:o,info:s})}function tt(t){D(t)}function et(t){var e=t.spritesheet.sprite,n=t.directionOffset,i=t.directionKey,a=t.motionKey,r=t.x,o=t.y,s=t.info;A({sprite:e,directionOffset:n,directionKey:i,motionKey:a,x:r,y:o,info:s})}function nt(t){_(t)}function it(t){z(t)}function at(){T()}function rt(t){X(t)}var ot={create:N},st=function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(t,i,a,o,s){var c;return Object(r["a"])(this,n),c=e.call(this,t,i,a,o.sprite),c.spritesheet=o,c.info=s||o.info,c.motionKey=k.idle,c.directionKey=O.west,c.f=c.motion.startFrame,c.depth=2,c.directionOffset={x:0,y:0},c.scene.time.delayedCall(100,c.changeFrame,[],Object(F["a"])(c)),c}return Object(l["a"])(n,[{key:"motion",get:function(){return this.spritesheet.motions[this.motionKey]}},{key:"direction",get:function(){return this.spritesheet.offsets[this.directionKey]}},{key:"area",get:function(){return new Phaser.Geom.Circle(this.x+0,this.y+20,30)}},{key:"areaAttack",get:function(){return new Phaser.Geom.Circle(this.x+this.directionOffset.x*(20+this.info.powerArea),this.y+this.directionOffset.y*(20+this.info.powerArea),this.info.powerArea)}},{key:"changeFrame",value:function(){this.f++,this.f===this.motion.endFrame?void 0!==this.motion.once&&this.motion.once?this.f=this.motion.endFrame-1:this.f=this.motion.startFrame:this.frame=this.texture.get(this.direction+this.f),this.motionKey==k.attack&&this.motion.attack===this.f&&at(),this.scene&&this.scene.time.delayedCall(100,this.changeFrame,[],this)}},{key:"setMotion",value:function(t){this.motionKey!==t&&(this.motionKey=t,this.f=this.motion.startFrame,this.frame=this.texture.get(this.direction+this.f))}},{key:"setDirectionOffset",value:function(t){this.directionOffset=t}},{key:"setDirection",value:function(t){this.directionKey=t}},{key:"setPoint",value:function(t,e){this.x=t,this.y=e}},{key:"setPlayerInfo",value:function(t){this.info=t}},{key:"move",value:function(){W(this)||(this.x+=this.directionOffset.x*this.info.speed,this.y+=this.directionOffset.y*this.info.speed)}},{key:"removeHealth",value:function(t){this.info.health-=t}},{key:"addHealth",value:function(t){this.info.health+=t}},{key:"isDie",value:function(){return this.info.health<=0}},{key:"destroy",value:function(){Object(P["a"])(Object(I["a"])(n.prototype),"destroy",this).call(this)}}]),n}(m["GameObjects"].Image),ct=st,ht=function(t,e){return t.input.keyboard.addKey(e).isDown};function ft(t){return t.input.mousePointer.isDown}function ut(t){var e=t.scene.input.mousePointer,n=t.scene.cameras.main;return Phaser.Math.Angle.Between(t.x,t.y,e.x+n.scrollX,e.y+n.scrollY)}function dt(t){var e=ut(t);return e>-1.9625&&e<-1.1775?O.north:e>-1.1775&&e<-.3925?O.northEast:e>-.3925&&e<.3925?O.east:e>.3925&&e<1.1775?O.southEast:e>1.1775&&e<1.9625?O.south:e>1.9625&&e<2.7475?O.southWest:e>2.7475||e<-2.7475?O.west:e>-2.7475&&e<-1.9625?O.northWest:O.north}function lt(t){var e=ut(t);return{x:2*Math.cos(e),y:2*Math.sin(e)}}var mt={sprite:"skeleton",info:{health:1e3,power:200,powerArea:10,speed:1},offsets:{west:0,northWest:32,north:64,northEast:96,east:128,southEast:160,south:192,southWest:224},motions:{idle:{startFrame:0,endFrame:4},walk:{startFrame:4,endFrame:12},attack:{startFrame:12,endFrame:20,attack:18},die:{startFrame:20,endFrame:28,once:!0},shoot:{startFrame:28,endFrame:32}}},pt=mt,yt={sprite:"spider",info:{health:800,power:100,powerArea:40,speed:1.5},offsets:{west:0,northWest:32,north:64,northEast:96,east:128,southEast:160,south:192,southWest:224},motions:{idle:{startFrame:0,endFrame:4},walk:{startFrame:4,endFrame:12},attack:{startFrame:12,endFrame:20,attack:16},die:{startFrame:20,endFrame:28,once:!0},shoot:{startFrame:28,endFrame:32}}},vt=yt,gt={sprite:"zombie",info:{health:2500,power:300,powerArea:50,speed:.7},offsets:{west:0,northWest:36,north:72,northEast:108,east:144,southEast:180,south:216,southWest:252},motions:{idle:{startFrame:0,endFrame:4},walk:{startFrame:4,endFrame:12},attack:{startFrame:12,endFrame:22,attack:16},die:{startFrame:22,endFrame:28,once:!0},shoot:{startFrame:28,endFrame:36}}},bt=gt,wt={sprite:"minotaur",info:{health:1500,power:100,powerArea:20,speed:.8},offsets:{west:0,northWest:24,north:48,northEast:72,east:96,southEast:120,south:144,southWest:168},motions:{idle:{startFrame:0,endFrame:4},walk:{startFrame:4,endFrame:12},attack:{startFrame:12,endFrame:18,attack:16},die:{startFrame:21,endFrame:24,once:!0},shoot:{startFrame:21,endFrame:24,once:!0}}},Ot=wt,kt={skeleton:pt,spider:vt,zombie:bt,minotaur:Ot},xt=kt,jt=function(t){t.setDirectionOffset(lt(t)),t.setDirection(dt(t)),t.setMotion(k.walk),t.move()},Ft=function(t){if(t.isDie()){var e=w();t.setPoint(e.x,e.y),t.setMotion(k.idle),t.setDirection(O.north),t.setPlayerInfo(xt["minotaur"].info),et(t)}},Pt=function(t){t.setMotion(k.attack)},It=function(t){t.setMotion(k.idle)},Wt=function(t){t.setDirection(dt(t))},Gt=void 0,St={execute:function(t){var e=w();Gt=this.add.existing(new ct(this,e.x,e.y,xt[t])),$(Gt)},preload:function(){this.load.spritesheet("skeleton",n("5865"),{frameWidth:128,frameHeight:128}),this.load.spritesheet("spider",n("4210"),{frameWidth:128,frameHeight:128}),this.load.spritesheet("zombie",n("40f7"),{frameWidth:128,frameHeight:128}),this.load.spritesheet("minotaur",n("59c9"),{frameWidth:128,frameHeight:128})},update:function(){Gt&&(ht(this,"R")&&Gt.isDie()&&Ft(Gt),Gt.isDie()||(!ht(this,"SPACE")&&ft(this)&&jt(Gt),ht(this,"SPACE")&&(Pt(Gt),ft(this)&&Wt(Gt)),ft(this)||ht(this,"SPACE")||It(Gt),et(Gt)))}},Ct=function(){Gt&&(this.cameras.main.scrollX=Gt.x-window.innerWidth/2,this.cameras.main.scrollY=Gt.y-window.innerHeight/2)},Et=function(t,e){},Ht={create:j,update:Ct,set:Et},Kt={},Mt={create:function(){Kt=this.add.text(this.cameras.main.scrollX,this.cameras.main.scrollY,"Health: 0")},update:function(){Gt&&(Kt.destroy(),Kt=this.add.text(this.cameras.main.scrollX+15,this.cameras.main.scrollY+10,"Health: ".concat(Gt.info.health)))}},Dt=function(t,e){t.addHealth(e)},At=function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(t,i,a,o,s){var c;return Object(r["a"])(this,n),c=e.call(this,t,i,a,"heart"),c.used=!1,c.f=0,c.id=o,c.value=s,c.scene.time.delayedCall(100,c.changeFrame,[],Object(F["a"])(c)),c.depth=1,c}return Object(l["a"])(n,[{key:"changeFrame",value:function(){this.f++,10===this.f&&(this.f=0),this.frame=this.texture.get(this.f),this.scene&&this.scene.time.delayedCall(100,this.changeFrame,[],this)}},{key:"area",get:function(){return new Phaser.Geom.Circle(this.x+5,this.y+5,15)}}]),n}(m["GameObjects"].Image),_t=At,zt={};function Tt(){var t=[];for(var e in zt)if(zt[e]){var n=zt[e];t.push({id:n.id,model:"Heart",value:n.value,x:n.x,y:n.y})}return t}var Xt={preload:function(){this.load.spritesheet("heart",n("fa49"),{frameWidth:20,frameHeight:20})},create:function(){var t=this;q((function(e){var n=e.x,i=e.y,a=e.id,r=e.value,o=e.model;"Heart"===o&&(zt[a]=t.add.existing(new _t(t,n,i,a,r)))})),U((function(t){zt[t]&&(zt[t].destroy(),delete zt[t])})),Z((function(e){var n,i=Object(d["a"])(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;"Heart"!=a.model||zt[a.id]||(zt[a.id]=t.add.existing(new _t(t,a.x,a.y,a.id,a.value)))}}catch(r){i.e(r)}finally{i.f()}}))},update:function(){if(Gt)for(var t in zt)!zt[t].used&&G(Gt,zt[t])&&(Dt(Gt,zt[t].value),Q(t),zt[t].used=!0)}},Yt=function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(l["a"])(n,[{key:"changeFrame",value:function(){this.f++,this.f===this.motion.endFrame?void 0!==this.motion.once&&this.motion.once?this.f=this.motion.endFrame-1:this.f=this.motion.startFrame:this.frame=this.texture.get(this.direction+this.f),this.scene&&this.scene.time.delayedCall(100,this.changeFrame,[],this)}}]),n}(ct),Rt=Yt,Jt=function(t,e){t.setPoint(e.x,e.y),t.setMotion(e.motionKey),t.setDirection(e.directionKey),t.setPlayerInfo(e.info),t.setDirectionOffset(e.directionOffset)},Lt=function(t,e){t.removeHealth(e.info.power),t.isDie()&&(t.setMotion(k.die),et(t))},Bt={},Nt={create:function(){var t=this;tt((function(e){e.id&&!Bt[e.id]&&(Bt[e.id]=t.add.existing(new Rt(t,e.x,e.y,xt[e.sprite],e.info)),Gt&&($(Gt),V(Tt())))})),nt((function(t){if(t.id&&Bt[t.id]){var e=Bt[t.id];Jt(e,t)}})),it((function(t){Bt[t]&&(Bt[t].destroy(),delete Bt[t])})),rt((function(t){Gt&&S(Gt,Bt[t])&&Lt(Gt,Bt[t])}))}},qt=n("3835"),Qt=(n("07ac"),n("4fad"),function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.width=600,t.height=168,t}return Object(l["a"])(n,[{key:"x",get:function(){return(this.cameras.main.width-this.width)/2}},{key:"y",get:function(){return(this.cameras.main.height-this.height)/2}},{key:"onSelectSprite",value:function(t){var e=this,n=this.add.rectangle(this.x+this.width/2,this.y+this.height/2,this.width,this.height,4027276);n.setStrokeStyle(3,1844497);for(var i=83,a=this.width/Object.values(xt).length,r=function(){var n=Object(qt["a"])(s[o],2),r=(n[0],n[1]);e.add.existing(new ct(e,e.x+i,e.y+85,r)),e.add.rectangle(e.x+i,e.y+85,128,128,2178636).setInteractive().on("pointerdown",(function(n){t(r.sprite),e.scene.remove()})),i+=a-5},o=0,s=Object.entries(xt);o<s.length;o++)r()}}]),n}(p.a.Scene)),Ut={create:function(){var t=this,e=this.scene.add("menu",Qt,!0,{root:this});e.onSelectSprite((function(e){Vt.Player.execute.apply(t,[e])}))}},Vt={Map:x,Camera:Ht,Client:ot,Player:St},Zt={items:[x,Ht,Mt,ot,St,C,Xt,Nt,Ut]},$t=Zt,te=function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),e.call(this,{key:"GameScene"})}return Object(l["a"])(n,[{key:"preload",value:function(){var t,e=Object(d["a"])($t.items);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.preload&&n.preload.apply(this,[])}}catch(i){e.e(i)}finally{e.f()}}},{key:"create",value:function(){var t,e=Object(d["a"])($t.items);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.create&&n.create.apply(this,[])}}catch(i){e.e(i)}finally{e.f()}}},{key:"update",value:function(){var t,e=Object(d["a"])($t.items);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.update&&n.update.apply(this,[])}}catch(i){e.e(i)}finally{e.f()}}}]),n}(m["Scene"]),ee={setup:function(){var t,e=Object(i["g"])(null);return Object(i["c"])((function(){var n={type:p.a.WEBGL,width:window.innerWidth,height:window.innerHeight,backgroundColor:"#ababab",parent:e.value,scene:[te]};t=new p.a.Game(n)})),Object(i["d"])((function(){console.log(),t.destroy(!0)})),{root:e}}};ee.render=u;var ne=ee,ie=function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return n}(h["b"]);ie=Object(c["a"])([Object(h["a"])({components:{Game:ne}})],ie);var ae=ie;n("27be");ae.render=a;var re=ae;Object(i["a"])(re).mount("#app")},f87a:function(t,e,n){},fa49:function(t,e,n){t.exports=n.p+"img/heart.b786a753.png"},faa3:function(t,e,n){t.exports=n.p+"img/isometric-grass-and-water.9b79d53a.png"}});
//# sourceMappingURL=app.68a401af.js.map