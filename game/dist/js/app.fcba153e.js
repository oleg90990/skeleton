(function(t){function e(e){for(var n,a,o=e[0],c=e[1],h=e[2],l=0,f=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,h||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},s={app:0},r=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"1f89":function(t){t.exports=JSON.parse('{"compressionlevel":-1,"editorsettings":{"export":{"target":"."}},"height":60,"infinite":false,"layers":[{"data":[24,24,24,24,24,24,24,24,23,23,24,23,23,23,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,23,23,24,23,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,24,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,23,23,23,24,24,24,24,24,24,24,24,24,24,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,24,23,23,23,24,24,24,24,24,24,24,24,24,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,24,24,23,23,24,24,24,24,24,24,24,24,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,11,15,15,12,24,24,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,7,1,2,8,12,23,24,23,23,23,23,23,23,23,23,24,24,24,24,11,15,12,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,11,7,2,2,2,3,1,8,12,24,23,23,23,23,24,23,23,24,24,24,24,14,1,8,12,24,23,23,23,23,24,24,23,24,24,24,24,24,24,24,23,23,23,23,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,23,14,1,1,1,3,3,3,3,3,8,12,24,24,24,23,23,23,24,24,24,11,7,1,1,8,12,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,23,24,14,1,3,3,4,3,3,1,1,1,8,12,23,23,23,23,24,11,15,15,7,1,1,4,1,8,12,24,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,23,23,24,24,24,24,23,24,24,18,1,3,1,4,1,3,1,1,1,1,8,12,24,24,24,24,18,1,1,3,1,4,1,1,1,8,12,24,23,23,23,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,14,3,1,3,4,1,3,1,1,1,5,17,9,23,23,23,24,18,1,1,3,3,1,1,1,1,1,8,12,24,23,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,10,6,3,3,4,1,3,1,1,1,8,12,23,23,23,23,23,18,1,1,1,3,1,1,1,1,1,1,16,23,24,24,23,23,23,23,23,24,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,14,3,3,1,3,3,1,1,1,1,20,23,23,23,23,23,18,1,1,1,1,1,4,1,1,1,1,8,12,23,23,24,23,23,23,23,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,1,1,3,3,1,1,1,1,1,20,23,23,23,23,23,18,1,3,3,2,3,3,3,1,1,3,3,16,23,23,23,24,23,23,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,1,3,4,1,1,1,1,1,1,20,23,23,23,23,23,18,1,3,3,1,3,2,2,1,4,1,1,8,12,23,11,15,12,24,23,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,11,7,1,3,4,1,1,1,5,13,13,9,23,23,23,23,18,1,1,1,3,3,1,1,4,1,1,4,1,1,8,12,14,1,8,12,24,23,23,23,23,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,3,1,4,4,1,1,1,20,23,23,23,23,23,23,23,10,6,1,3,3,3,3,3,3,3,3,3,3,1,1,8,7,1,1,1,8,12,24,23,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,10,6,1,4,1,1,1,1,20,23,23,23,23,23,23,23,23,10,6,1,1,1,2,1,2,2,2,2,1,1,1,1,1,1,1,1,1,8,12,24,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,10,6,4,1,1,1,1,20,23,23,23,23,23,23,23,23,23,10,6,1,3,3,2,3,1,1,4,1,1,4,1,3,3,3,1,1,1,1,8,12,24,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,10,6,1,1,1,1,20,23,23,23,23,23,23,23,23,23,23,10,1,3,3,1,3,2,3,3,3,3,1,1,4,1,1,4,1,3,3,3,8,12,24,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,23,23,23,23,24,10,6,1,1,1,20,23,23,23,23,23,23,23,23,23,23,23,6,1,3,3,3,1,3,2,2,3,1,1,4,1,1,4,1,3,3,3,1,8,12,24,24,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,23,24,14,1,1,1,1,20,12,23,23,23,23,23,23,11,19,12,18,3,3,3,3,3,1,1,4,3,2,3,3,3,1,1,3,3,1,3,1,1,8,12,23,24,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,10,6,1,1,1,1,8,12,23,23,23,23,23,18,1,20,10,13,3,3,1,3,2,2,3,3,1,3,2,2,1,4,1,1,4,1,1,1,1,8,15,12,24,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,23,14,3,1,1,1,1,8,12,23,23,23,23,10,13,9,23,23,1,3,3,1,1,4,3,3,3,3,1,1,4,1,1,4,1,3,3,3,1,1,1,8,12,24,23,23,24,24,24,24,24,24,24,24,23,24,24,24,24,24,23,18,3,3,1,1,1,1,8,12,23,23,23,23,23,23,23,23,3,3,3,3,3,3,3,3,1,3,3,1,1,4,1,1,4,1,3,3,3,1,1,2,8,12,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,14,2,2,3,1,1,1,1,20,23,23,23,23,23,23,23,23,6,1,1,2,3,3,3,3,3,3,3,2,3,3,3,1,1,3,3,1,3,2,2,2,2,16,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,2,3,3,3,1,1,3,8,12,23,23,23,23,23,23,15,7,1,1,3,3,3,3,3,1,1,4,1,1,4,1,3,3,3,1,4,1,1,1,1,1,8,12,24,23,23,23,24,24,24,24,23,24,24,24,24,24,24,24,18,1,3,2,2,1,4,1,1,8,12,23,23,23,23,7,1,1,2,3,3,3,1,1,3,2,3,3,3,1,1,3,3,1,3,1,4,1,3,3,3,1,1,8,12,23,23,24,24,24,24,24,23,23,24,24,24,24,24,24,18,3,1,1,4,1,1,4,1,1,8,19,19,19,7,1,1,1,3,3,3,1,1,4,1,1,4,1,3,3,3,1,1,4,1,3,1,3,3,1,3,1,1,1,16,24,23,23,23,24,24,24,23,23,23,24,24,24,24,24,14,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,3,1,3,2,3,3,3,1,1,3,3,1,3,4,1,1,4,3,4,1,1,4,1,1,1,5,9,24,24,23,24,24,24,24,23,23,23,23,24,24,24,24,18,1,3,2,2,1,4,1,1,3,2,1,1,1,1,1,1,3,3,1,3,1,3,2,2,1,4,1,1,4,1,4,1,1,4,1,1,4,1,1,4,1,1,16,24,24,24,23,24,24,24,24,23,23,23,23,24,24,24,24,18,3,1,1,4,1,1,4,1,1,2,2,2,3,3,1,1,3,3,2,3,3,1,1,4,1,1,4,1,1,4,1,4,1,1,4,1,3,2,2,1,1,1,8,12,24,23,23,24,24,24,24,24,24,23,23,24,24,24,24,18,3,3,3,3,3,1,1,4,1,1,4,1,3,3,2,3,3,3,1,3,2,2,1,4,1,1,4,1,4,1,1,4,1,1,4,1,4,1,3,3,3,1,2,16,24,24,24,24,24,24,24,23,23,23,23,24,24,24,11,7,3,3,3,3,3,2,3,3,3,1,1,3,3,3,1,3,3,3,3,1,1,4,1,1,4,1,1,4,2,1,3,1,1,4,1,1,4,1,3,3,3,1,5,9,24,24,24,24,24,24,24,24,23,23,24,11,19,19,7,3,3,3,3,3,3,1,3,2,2,1,4,1,3,3,3,1,3,3,3,1,1,4,1,1,4,1,1,4,4,1,3,1,1,4,1,1,4,1,3,3,3,1,16,24,24,24,24,24,24,24,24,24,24,24,24,14,3,3,3,3,3,3,3,3,3,3,1,1,4,1,1,4,1,1,4,3,3,1,3,3,2,3,3,3,3,3,1,1,4,1,3,2,3,3,3,1,1,3,3,1,3,1,8,12,24,24,24,24,24,24,24,24,24,24,24,14,1,1,3,3,3,3,3,3,3,3,3,3,3,1,3,2,2,1,4,1,1,4,1,3,1,3,2,2,3,3,1,1,3,1,1,4,1,1,4,1,3,3,3,4,1,1,1,16,24,24,24,24,24,24,24,24,24,24,24,18,1,1,1,1,3,1,1,1,1,1,1,1,3,3,1,3,1,1,4,1,1,4,1,3,3,3,3,3,3,3,4,1,3,2,3,3,3,1,1,3,3,1,3,1,4,1,1,16,23,24,24,24,24,24,24,24,24,24,24,14,1,1,1,1,3,1,5,13,13,13,6,1,1,2,3,3,2,3,3,3,1,1,3,3,1,3,3,3,1,3,1,4,3,1,3,2,2,1,4,1,1,4,1,3,3,1,1,8,12,23,24,24,24,24,24,24,24,24,24,10,6,1,1,1,5,13,9,24,23,24,10,6,1,1,2,3,1,3,2,2,1,4,1,1,4,1,1,1,4,1,3,3,3,3,1,1,4,1,1,4,1,1,4,1,2,4,1,3,16,24,24,24,24,24,24,24,24,24,24,24,10,6,5,13,9,24,24,24,24,24,24,10,6,1,2,3,3,1,1,4,1,1,4,1,1,4,4,1,1,4,3,2,2,1,4,1,1,4,1,4,1,3,3,3,2,2,1,1,20,23,24,24,24,24,24,24,24,24,24,24,24,10,9,23,24,24,24,24,24,24,24,19,7,1,1,2,3,3,1,1,4,1,1,4,1,1,4,1,3,3,1,1,4,1,1,4,1,1,4,1,3,3,1,3,4,3,1,3,20,23,23,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,19,1,1,1,3,2,2,3,1,1,4,1,1,4,1,3,3,3,3,1,3,2,2,1,4,1,1,4,1,4,1,1,4,1,3,3,1,1,16,23,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,1,3,3,3,1,4,1,3,2,3,3,3,1,1,3,3,1,3,3,3,1,1,4,1,1,4,1,1,4,1,4,1,1,4,1,3,3,5,9,23,23,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,1,1,1,1,3,3,1,3,1,3,2,2,1,4,1,3,1,1,4,1,1,3,1,1,4,1,1,4,1,3,3,3,3,3,1,4,4,16,23,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,23,23,23,24,24,24,6,1,3,1,1,3,3,3,3,1,1,4,1,1,4,3,2,3,3,3,1,3,2,3,3,3,1,1,3,3,1,3,3,3,3,1,2,20,24,23,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,10,17,6,1,1,1,3,1,3,3,1,3,3,3,3,3,1,3,2,2,1,3,1,3,2,2,1,4,1,1,4,1,3,3,3,2,2,16,24,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,1,8,19,7,3,1,1,3,1,3,3,1,1,1,1,1,3,3,1,1,4,1,3,3,1,1,4,1,1,4,1,1,4,3,3,1,4,5,9,24,24,23,24,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,24,19,1,1,2,1,1,3,1,1,3,3,3,3,3,1,3,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,5,9,24,24,24,24,23,23,24,24,23,24,24,24,24,24,23,23,24,23,24,24,14,1,1,1,2,2,1,1,3,2,2,2,3,3,3,5,13,13,6,1,3,3,3,3,3,3,5,6,3,3,3,3,3,1,4,1,1,5,9,24,24,24,23,24,24,24,23,23,23,23,24,24,24,23,23,24,24,24,24,24,14,1,1,2,2,3,2,2,3,2,3,2,2,5,13,9,24,24,10,6,3,3,3,3,3,3,16,10,6,3,3,3,3,3,3,1,5,9,24,24,23,23,23,23,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,14,1,2,2,3,2,3,3,1,3,3,1,5,9,23,24,24,24,24,10,13,13,6,1,1,1,16,23,10,6,1,1,3,3,3,5,9,24,24,23,23,23,23,23,24,24,24,24,23,24,23,23,24,24,24,24,24,24,24,24,14,1,1,1,1,3,3,1,1,1,1,5,9,24,24,23,24,24,24,24,24,24,10,13,17,13,9,24,24,10,6,3,3,5,13,9,24,23,23,23,23,23,23,23,23,24,24,24,23,24,24,24,24,24,24,24,24,23,24,24,10,6,3,3,3,5,17,13,17,17,13,9,24,23,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,24,10,17,17,9,24,24,23,24,24,23,23,23,24,23,23,24,23,24,23,23,24,24,24,24,24,24,24,24,23,23,23,10,13,13,13,9,24,24,24,24,24,24,24,23,23,24,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,24,24,23,23,24,23,23,23,24,24,23,23,24,24,24,24,23,23,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,23,23,23,23,24,24,23,24,24,24,24,24,24,23,23,23,24,23,23,23,23,24,24,24,24],"height":60,"id":1,"name":"Tile Layer 1","opacity":1,"type":"tilelayer","visible":true,"width":60,"x":0,"y":0}],"nextlayerid":2,"nextobjectid":1,"orientation":"isometric","renderorder":"right-down","tiledversion":"1.4.3","tileheight":32,"tilesets":[{"columns":4,"firstgid":1,"image":"isometric-grass-and-water.png","imageheight":384,"imagewidth":256,"margin":0,"name":"isometric_grass_and_water","spacing":0,"terrains":[{"name":"Grass","tile":0},{"name":"Water","tile":22}],"tilecount":24,"tileheight":64,"tileoffset":{"x":0,"y":16},"tiles":[{"id":0,"terrain":[0,0,0,0]},{"id":1,"terrain":[0,0,0,0]},{"id":2,"terrain":[0,0,0,0]},{"id":3,"terrain":[0,0,0,0]},{"id":4,"terrain":[0,0,0,1]},{"id":5,"terrain":[0,0,1,0]},{"id":6,"terrain":[1,0,0,0]},{"id":7,"terrain":[0,1,0,0]},{"id":8,"terrain":[0,1,1,1]},{"id":9,"terrain":[1,0,1,1]},{"id":10,"terrain":[1,1,1,0]},{"id":11,"terrain":[1,1,0,1]},{"id":12,"terrain":[0,0,1,1]},{"id":13,"terrain":[1,0,1,0]},{"id":14,"terrain":[1,1,0,0]},{"id":15,"terrain":[0,1,0,1]},{"id":16,"terrain":[0,0,1,1]},{"id":17,"terrain":[1,0,1,0]},{"id":18,"terrain":[1,1,0,0]},{"id":19,"terrain":[0,1,0,1]},{"id":20,"terrain":[0,1,1,0]},{"id":21,"terrain":[1,0,0,1]},{"id":22,"terrain":[1,1,1,1]},{"id":23,"terrain":[1,1,1,1]}],"tilewidth":64}],"tilewidth":64,"type":"map","version":1.4,"width":60}')},"27be":function(t,e,i){"use strict";i("f87a")},"40f7":function(t,e,i){t.exports=i.p+"img/zombie.188302dd.png"},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23");function s(t,e,i,s,r,a){var o=Object(n["g"])("Game");return Object(n["d"])(),Object(n["b"])(o)}var r=i("d4ec"),a=i("262e"),o=i("2caf"),c=i("9ab4"),h=i("ce1f"),u={ref:"root"};function l(t,e,i,s,r,a){return Object(n["d"])(),Object(n["b"])("div",u,null,512)}var f,d=i("bee2"),m=(i("caad"),i("d4ef")),p=i.n(m),y=i("257e"),v=i("45eb"),g=i("7e84"),k={idle:{startFrame:0,endFrame:4},walk:{startFrame:4,endFrame:12},attack:{startFrame:12,endFrame:20},die:{startFrame:20,endFrame:28,once:!0},shoot:{startFrame:28,endFrame:32}},b=k,w={west:{offset:0,x:-2,y:0},northWest:{offset:32,x:-2,y:-1},north:{offset:64,x:0,y:-2},northEast:{offset:96,x:2,y:-1},east:{offset:128,x:2,y:0},southEast:{offset:160,x:2,y:1},south:{offset:192,x:0,y:2},southWest:{offset:224,x:-2,y:1}},x=w;(function(t){t["idle"]="idle",t["walk"]="walk",t["attack"]="attack",t["die"]="die",t["shoot"]="shoot"})(f||(f={}));var j,O=i("b85c"),D=function(t,e,i){var n=t.x+e.x*i,s=t.y+e.y*i+30;if(n<=0)return!0;if(s<=50)return!0;var r,a=new p.a.Geom.Rectangle(n,s,20,20),o=t.scene,c=Object(O["a"])(o.tileIntersects);try{for(c.s();!(r=c.n()).done;){var h=r.value,u=p.a.Geom.Intersects.GetRectangleIntersection(h,a);if(u.x)return!0}}catch(l){c.e(l)}finally{c.f()}return!1};(function(t){t["west"]="west",t["northWest"]="northWest",t["north"]="north",t["northEast"]="northEast",t["east"]="east",t["southEast"]="southEast",t["south"]="south",t["southWest"]="southWest"})(j||(j={}));var A=function(t){Object(a["a"])(i,t);var e=Object(o["a"])(i);function i(t,n,s,a,o,c){var h;return Object(r["a"])(this,i),h=e.call(this,t,n,s,"skeleton"),h.info=c,h.motion=a,h.dir=o,h.f=h.animation.startFrame,h.scene.time.delayedCall(100,h.changeFrame,[],Object(y["a"])(h)),h.line=h.scene.add.line(0,0,60,0,0,0,16711680),h}return Object(d["a"])(i,[{key:"animation",get:function(){return b[this.motion]}},{key:"direction",get:function(){return x[this.dir]}},{key:"rect",get:function(){return new Phaser.Geom.Rectangle(this.x,this.y,50,50)}},{key:"request",get:function(){return{x:this.x,y:this.y,dir:this.dir,motion:this.motion,info:this.info}}},{key:"rectAttack",get:function(){return new Phaser.Geom.Rectangle(this.x+15*this.direction.x,this.y+15*this.direction.y,this.info.powerArea,this.info.powerArea)}},{key:"updateLine",value:function(){var t=60*this.info.health/100;this.line.x=this.x-0,this.line.y=this.y-40,this.line.setTo(t<0?0:t,0,0,0)}},{key:"reset",value:function(){var t=this.scene,e=t.getRandPosition();this.x=e.x,this.y=e.y,this.setAnimation(f.idle),this.info.health=100,this.setDepth(1)}},{key:"changeFrame",value:function(){this.f++,this.f===this.animation.endFrame?void 0!==this.animation.once&&this.animation.once?this.f=this.animation.endFrame-1:this.f=this.animation.startFrame:this.frame=this.texture.get(this.direction.offset+this.f),this.scene&&this.scene.time.delayedCall(100,this.changeFrame,[],this)}},{key:"setAnimation",value:function(t){this.motion!==t&&(this.motion=t,this.f=this.animation.startFrame,this.frame=this.texture.get(this.direction.offset+this.f))}},{key:"setDirection",value:function(t){this.dir=t,this.updateDirection()}},{key:"isDown",value:function(t){return this.scene.input.keyboard.addKey(t).isDown}},{key:"updateDirection",value:function(){D(this,this.direction,this.info.speed)||(this.x+=this.direction.x*this.info.speed,this.y+=this.direction.y*this.info.speed)}},{key:"update",value:function(){var t=this.isDown("W"),e=this.isDown("D"),i=this.isDown("S"),n=this.isDown("A"),s=this.isDown("R"),r=this.isDown("SPACE");s&&this.isDie()&&this.reset(),this.isDie()||(!t||e||i||n||(this.setDirection(j.north),this.setAnimation(f.walk)),t&&e&&!i&&!n&&(this.setDirection(j.northEast),this.setAnimation(f.walk)),t||!e||i||n||(this.setDirection(j.east),this.setAnimation(f.walk)),!t&&e&&i&&!n&&(this.setDirection(j.southEast),this.setAnimation(f.walk)),t||e||!i||n||(this.setDirection(j.south),this.setAnimation(f.walk)),!t&&!e&&i&&n&&(this.setDirection(j.southWest),this.setAnimation(f.walk)),t||e||i||!n||(this.setDirection(j.west),this.setAnimation(f.walk)),t&&!e&&!i&&n&&(this.setDirection(j.northWest),this.setAnimation(f.walk)),t||e||i||n||!r||this.setAnimation(f.attack),t||e||i||n||r||this.setAnimation(f.idle),this.updateLine())}},{key:"set",value:function(t,e,i,n,s){this.x=t,this.y=e,this.info=s,this.setDirection(n),this.setAnimation(i)}},{key:"intersectionSkeleton",value:function(t){return!0}},{key:"attackSkeleton",value:function(t){this.info.health-=t.info.power,this.isDie()&&(this.setAnimation(f.die),this.setDepth(0))}},{key:"isDie",value:function(){return this.info.health<=0}},{key:"destroy",value:function(){this.line.destroy(),Object(v["a"])(Object(g["a"])(i.prototype),"destroy",this).call(this)}}]),i}(m["GameObjects"].Image),W=A,F=function(t){Object(a["a"])(i,t);var e=Object(o["a"])(i);function i(){return Object(r["a"])(this,i),e.apply(this,arguments)}return Object(d["a"])(i,[{key:"update",value:function(){this.updateLine()}}]),i}(W),G=F,S=i("8e27"),H=function(){function t(){Object(r["a"])(this,t)}return Object(d["a"])(t,[{key:"connect",value:function(t){var e=this,i="ws://46.17.40.175:3000";this.client=Object(S["io"])(i,{reconnectionDelayMax:1e3}),this.client.on("connect",(function(){e.id=e.client.id,t()}))}},{key:"init",value:function(t){var e=t.request;e.id=this.id,this.client.emit("init",e)}},{key:"onInit",value:function(t){this.client.on("init",(function(e){t(e)}))}},{key:"emit",value:function(t){var e=t.request;e.id=this.id,this.client.emit("emit",e)}},{key:"onEmit",value:function(t){this.client.on("emit",(function(e){t(e)}))}},{key:"onDisconect",value:function(t){this.client.on("disconectitem",(function(e){t(e)}))}}]),t}(),P=function(t,e){var i=p.a.Geom.Intersects.GetRectangleIntersection(t.rect,e.rect);(i.x||i.y)&&t.intersectionSkeleton(e);var n=p.a.Geom.Intersects.GetRectangleIntersection(t.rect,e.rectAttack);n.x&&e.motion===f.attack&&t.attackSkeleton(e)},E=function(t){return t[Math.floor(Math.random()*t.length)]},I={health:1e3,power:1,powerArea:30,speed:1},R=function(t){Object(a["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this,{key:"GameScene"}),t.tileIntersects=[],t.skeletons={},t.visitingLands=[],t}return Object(d["a"])(n,[{key:"preload",value:function(){this.load.json("map",i("1f89")),this.load.spritesheet("tiles",i("faa3"),{frameWidth:64,frameHeight:64}),this.load.spritesheet("skeleton",i("fefe"),{frameWidth:128,frameHeight:128}),this.load.spritesheet("zombie",i("40f7"),{frameWidth:128,frameHeight:128}),this.load.image("house",i("f4c9"))}},{key:"create",value:function(){var t=this;this.cameras.main.setSize(window.innerWidth,window.innerHeight),this.client=new H,this.client.connect((function(){t.buildMap(),t.placeHouses(),t.user=t.add.existing(new W(t,0,0,f.idle,j.west,I)),t.user.reset(),t.client.init(t.user),t.client.onInit((function(e){var i=e.x,n=e.y,s=e.motion,r=e.dir,a=e.id,o=e.info;t.skeletons[a]||(t.client.init(t.user),t.skeletons[a]=t.add.existing(new G(t,i,n,s,r,o)))})),t.client.onEmit((function(e){var i=e.x,n=e.y,s=e.motion,r=e.dir,a=e.id,o=e.info;t.skeletons[a]?t.skeletons[a].set(i,n,s,r,o):t.skeletons[a]=t.add.existing(new G(t,i,n,s,r,o))})),t.client.onDisconect((function(e){t.skeletons[e]&&(t.skeletons[e].destroy(),delete t.skeletons[e])}))}))}},{key:"getRandPosition",value:function(){return E(this.visitingLands)}},{key:"update",value:function(){if(this.user){for(var t in this.user.update(),this.client.emit(this.user),this.skeletons)this.skeletons[t]&&(P(this.user,this.skeletons[t]),this.skeletons[t].update());this.cameras.main.scrollX=this.user.x-window.innerWidth/2,this.cameras.main.scrollY=this.user.y-window.innerHeight/2}}},{key:"buildMap",value:function(){var t=this.cache.json.get("map"),e=t.tilewidth,i=t.tileheight;this.tileWidthHalf=e/2,this.tileHeightHalf=i/2;for(var n=t.layers[0].data,s=t.layers[0].width,r=t.layers[0].height,a=1600,o=1600,c=0,h=0;h<r;h++)for(var u=0;u<s;u++){var l=n[c]-1,f=(u-h)*this.tileWidthHalf,d=(u+h)*this.tileHeightHalf,m=this.add.image(a+f,o+d,"tiles",l);[22,23].includes(l)&&this.tileIntersects.push(new Phaser.Geom.Rectangle(m.x-10,m.y-10,m.width,m.height)),[1,2,3].includes(l)&&this.visitingLands.push({x:m.x+e/2,y:m.y+i/2}),c++}}},{key:"placeHouses",value:function(){}}]),n}(m["Scene"]),_={setup:function(){var t=Object(n["f"])(null);return Object(n["c"])((function(){var e={type:p.a.WEBGL,width:window.innerWidth,height:window.innerHeight,backgroundColor:"#ababab",parent:t.value,scene:[R]};new p.a.Game(e)})),{root:t}}};_.render=l;var M=_,L=function(t){Object(a["a"])(i,t);var e=Object(o["a"])(i);function i(){return Object(r["a"])(this,i),e.apply(this,arguments)}return i}(h["b"]);L=Object(c["a"])([Object(h["a"])({components:{Game:M}})],L);var C=L;i("27be");C.render=s;var T=C;Object(n["a"])(T).mount("#app")},f4c9:function(t,e,i){t.exports=i.p+"img/rem_0002.96c367bb.png"},f87a:function(t,e,i){},faa3:function(t,e,i){t.exports=i.p+"img/isometric-grass-and-water.9b79d53a.png"},fefe:function(t,e,i){t.exports=i.p+"img/skeleton8.1b384832.png"}});
//# sourceMappingURL=app.fcba153e.js.map