(function(e){function t(t){for(var n,r,o=t[0],c=t[1],h=t[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,h||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},s={app:0},a=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var h=0;h<o.length;h++)t(o[h]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"1f89":function(e){e.exports=JSON.parse('{"compressionlevel":-1,"editorsettings":{"export":{"target":"."}},"height":60,"infinite":false,"layers":[{"data":[24,24,24,24,24,24,24,24,23,23,24,23,23,23,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,23,23,24,23,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,24,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,23,23,23,24,24,24,24,24,24,24,24,24,24,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,24,23,23,23,24,24,24,24,24,24,24,24,24,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,23,24,24,23,23,24,24,24,24,24,24,24,24,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,11,15,15,12,24,24,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,23,7,1,2,8,12,23,24,23,23,23,23,23,23,23,23,24,24,24,24,11,15,12,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,11,7,2,2,2,3,1,8,12,24,23,23,23,23,24,23,23,24,24,24,24,14,1,8,12,24,23,23,23,23,24,24,23,24,24,24,24,24,24,24,23,23,23,23,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,23,14,1,1,1,3,3,3,3,3,8,12,24,24,24,23,23,23,24,24,24,11,7,1,1,8,12,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,23,24,14,1,3,3,4,3,3,1,1,1,8,12,23,23,23,23,24,11,15,15,7,1,1,4,1,8,12,24,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,23,23,24,24,24,24,23,24,24,18,1,3,1,4,1,3,1,1,1,1,8,12,24,24,24,24,18,1,1,3,1,4,1,1,1,8,12,24,23,23,23,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,14,3,1,3,4,1,3,1,1,1,5,17,9,23,23,23,24,18,1,1,3,3,1,1,1,1,1,8,12,24,23,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,10,6,3,3,4,1,3,1,1,1,8,12,23,23,23,23,23,18,1,1,1,3,1,1,1,1,1,1,16,23,24,24,23,23,23,23,23,24,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,14,3,3,1,3,3,1,1,1,1,20,23,23,23,23,23,18,1,1,1,1,1,4,1,1,1,1,8,12,23,23,24,23,23,23,23,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,1,1,3,3,1,1,1,1,1,20,23,23,23,23,23,18,1,3,3,2,3,3,3,1,1,3,3,16,23,23,23,24,23,23,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,1,3,4,1,1,1,1,1,1,20,23,23,23,23,23,18,1,3,3,1,3,2,2,1,4,1,1,8,12,23,11,15,12,24,23,23,23,23,23,23,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,11,7,1,3,4,1,1,1,5,13,13,9,23,23,23,23,18,1,1,1,3,3,1,1,4,1,1,4,1,1,8,12,14,1,8,12,24,23,23,23,23,23,23,24,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,3,1,4,4,1,1,1,20,23,23,23,23,23,23,23,10,6,1,3,3,3,3,3,3,3,3,3,3,1,1,8,7,1,1,1,8,12,24,23,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,10,6,1,4,1,1,1,1,20,23,23,23,23,23,23,23,23,10,6,1,1,1,2,1,2,2,2,2,1,1,1,1,1,1,1,1,1,8,12,24,24,23,23,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,24,10,6,4,1,1,1,1,20,23,23,23,23,23,23,23,23,23,10,6,1,3,3,2,3,1,1,4,1,1,4,1,3,3,3,1,1,1,1,8,12,24,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,10,6,1,1,1,1,20,23,23,23,23,23,23,23,23,23,23,10,1,3,3,1,3,2,3,3,3,3,1,1,4,1,1,4,1,3,3,3,8,12,24,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,23,23,23,23,24,10,6,1,1,1,20,23,23,23,23,23,23,23,23,23,23,23,6,1,3,3,3,1,3,2,2,3,1,1,4,1,1,4,1,3,3,3,1,8,12,24,24,23,23,23,24,23,24,24,24,24,24,24,24,24,24,24,24,24,23,24,14,1,1,1,1,20,12,23,23,23,23,23,23,11,19,12,18,3,3,3,3,3,1,1,4,3,2,3,3,3,1,1,3,3,1,3,1,1,8,12,23,24,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,23,10,6,1,1,1,1,8,12,23,23,23,23,23,18,1,20,10,13,3,3,1,3,2,2,3,3,1,3,2,2,1,4,1,1,4,1,1,1,1,8,15,12,24,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,23,14,3,1,1,1,1,8,12,23,23,23,23,10,13,9,23,23,1,3,3,1,1,4,3,3,3,3,1,1,4,1,1,4,1,3,3,3,1,1,1,8,12,24,23,23,24,24,24,24,24,24,24,24,23,24,24,24,24,24,23,18,3,3,1,1,1,1,8,12,23,23,23,23,23,23,23,23,3,3,3,3,3,3,3,3,1,3,3,1,1,4,1,1,4,1,3,3,3,1,1,2,8,12,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,14,2,2,3,1,1,1,1,20,23,23,23,23,23,23,23,23,6,1,1,2,3,3,3,3,3,3,3,2,3,3,3,1,1,3,3,1,3,2,2,2,2,16,24,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,14,2,3,3,3,1,1,3,8,12,23,23,23,23,23,23,15,7,1,1,3,3,3,3,3,1,1,4,1,1,4,1,3,3,3,1,4,1,1,1,1,1,8,12,24,23,23,23,24,24,24,24,23,24,24,24,24,24,24,24,18,1,3,2,2,1,4,1,1,8,12,23,23,23,23,7,1,1,2,3,3,3,1,1,3,2,3,3,3,1,1,3,3,1,3,1,4,1,3,3,3,1,1,8,12,23,23,24,24,24,24,24,23,23,24,24,24,24,24,24,18,3,1,1,4,1,1,4,1,1,8,19,19,19,7,1,1,1,3,3,3,1,1,4,1,1,4,1,3,3,3,1,1,4,1,3,1,3,3,1,3,1,1,1,16,24,23,23,23,24,24,24,23,23,23,24,24,24,24,24,14,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,3,1,3,2,3,3,3,1,1,3,3,1,3,4,1,1,4,3,4,1,1,4,1,1,1,5,9,24,24,23,24,24,24,24,23,23,23,23,24,24,24,24,18,1,3,2,2,1,4,1,1,3,2,1,1,1,1,1,1,3,3,1,3,1,3,2,2,1,4,1,1,4,1,4,1,1,4,1,1,4,1,1,4,1,1,16,24,24,24,23,24,24,24,24,23,23,23,23,24,24,24,24,18,3,1,1,4,1,1,4,1,1,2,2,2,3,3,1,1,3,3,2,3,3,1,1,4,1,1,4,1,1,4,1,4,1,1,4,1,3,2,2,1,1,1,8,12,24,23,23,24,24,24,24,24,24,23,23,24,24,24,24,18,3,3,3,3,3,1,1,4,1,1,4,1,3,3,2,3,3,3,1,3,2,2,1,4,1,1,4,1,4,1,1,4,1,1,4,1,4,1,3,3,3,1,2,16,24,24,24,24,24,24,24,23,23,23,23,24,24,24,11,7,3,3,3,3,3,2,3,3,3,1,1,3,3,3,1,3,3,3,3,1,1,4,1,1,4,1,1,4,2,1,3,1,1,4,1,1,4,1,3,3,3,1,5,9,24,24,24,24,24,24,24,24,23,23,24,11,19,19,7,3,3,3,3,3,3,1,3,2,2,1,4,1,3,3,3,1,3,3,3,1,1,4,1,1,4,1,1,4,4,1,3,1,1,4,1,1,4,1,3,3,3,1,16,24,24,24,24,24,24,24,24,24,24,24,24,14,3,3,3,3,3,3,3,3,3,3,1,1,4,1,1,4,1,1,4,3,3,1,3,3,2,3,3,3,3,3,1,1,4,1,3,2,3,3,3,1,1,3,3,1,3,1,8,12,24,24,24,24,24,24,24,24,24,24,24,14,1,1,3,3,3,3,3,3,3,3,3,3,3,1,3,2,2,1,4,1,1,4,1,3,1,3,2,2,3,3,1,1,3,1,1,4,1,1,4,1,3,3,3,4,1,1,1,16,24,24,24,24,24,24,24,24,24,24,24,18,1,1,1,1,3,1,1,1,1,1,1,1,3,3,1,3,1,1,4,1,1,4,1,3,3,3,3,3,3,3,4,1,3,2,3,3,3,1,1,3,3,1,3,1,4,1,1,16,23,24,24,24,24,24,24,24,24,24,24,14,1,1,1,1,3,1,5,13,13,13,6,1,1,2,3,3,2,3,3,3,1,1,3,3,1,3,3,3,1,3,1,4,3,1,3,2,2,1,4,1,1,4,1,3,3,1,1,8,12,23,24,24,24,24,24,24,24,24,24,10,6,1,1,1,5,13,9,24,23,24,10,6,1,1,2,3,1,3,2,2,1,4,1,1,4,1,1,1,4,1,3,3,3,3,1,1,4,1,1,4,1,1,4,1,2,4,1,3,16,24,24,24,24,24,24,24,24,24,24,24,10,6,5,13,9,24,24,24,24,24,24,10,6,1,2,3,3,1,1,4,1,1,4,1,1,4,4,1,1,4,3,2,2,1,4,1,1,4,1,4,1,3,3,3,2,2,1,1,20,23,24,24,24,24,24,24,24,24,24,24,24,10,9,23,24,24,24,24,24,24,24,19,7,1,1,2,3,3,1,1,4,1,1,4,1,1,4,1,3,3,1,1,4,1,1,4,1,1,4,1,3,3,1,3,4,3,1,3,20,23,23,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,19,1,1,1,3,2,2,3,1,1,4,1,1,4,1,3,3,3,3,1,3,2,2,1,4,1,1,4,1,4,1,1,4,1,3,3,1,1,16,23,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,1,3,3,3,1,4,1,3,2,3,3,3,1,1,3,3,1,3,3,3,1,1,4,1,1,4,1,1,4,1,4,1,1,4,1,3,3,5,9,23,23,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,1,1,1,1,3,3,1,3,1,3,2,2,1,4,1,3,1,1,4,1,1,3,1,1,4,1,1,4,1,3,3,3,3,3,1,4,4,16,23,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,23,23,23,24,24,24,6,1,3,1,1,3,3,3,3,1,1,4,1,1,4,3,2,3,3,3,1,3,2,3,3,3,1,1,3,3,1,3,3,3,3,1,2,20,24,23,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,10,17,6,1,1,1,3,1,3,3,1,3,3,3,3,3,1,3,2,2,1,3,1,3,2,2,1,4,1,1,4,1,3,3,3,2,2,16,24,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,1,8,19,7,3,1,1,3,1,3,3,1,1,1,1,1,3,3,1,1,4,1,3,3,1,1,4,1,1,4,1,1,4,3,3,1,4,5,9,24,24,23,24,24,24,24,24,24,24,24,24,23,23,23,24,24,24,24,24,19,1,1,2,1,1,3,1,1,3,3,3,3,3,1,3,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,5,9,24,24,24,24,23,23,24,24,23,24,24,24,24,24,23,23,24,23,24,24,14,1,1,1,2,2,1,1,3,2,2,2,3,3,3,5,13,13,6,1,3,3,3,3,3,3,5,6,3,3,3,3,3,1,4,1,1,5,9,24,24,24,23,24,24,24,23,23,23,23,24,24,24,23,23,24,24,24,24,24,14,1,1,2,2,3,2,2,3,2,3,2,2,5,13,9,24,24,10,6,3,3,3,3,3,3,16,10,6,3,3,3,3,3,3,1,5,9,24,24,23,23,23,23,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,14,1,2,2,3,2,3,3,1,3,3,1,5,9,23,24,24,24,24,10,13,13,6,1,1,1,16,23,10,6,1,1,3,3,3,5,9,24,24,23,23,23,23,23,24,24,24,24,23,24,23,23,24,24,24,24,24,24,24,24,14,1,1,1,1,3,3,1,1,1,1,5,9,24,24,23,24,24,24,24,24,24,10,13,17,13,9,24,24,10,6,3,3,5,13,9,24,23,23,23,23,23,23,23,23,24,24,24,23,24,24,24,24,24,24,24,24,23,24,24,10,6,3,3,3,5,17,13,17,17,13,9,24,23,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,24,10,17,17,9,24,24,23,24,24,23,23,23,24,23,23,24,23,24,23,23,24,24,24,24,24,24,24,24,23,23,23,10,13,13,13,9,24,24,24,24,24,24,24,23,23,24,24,24,24,24,23,23,23,24,24,24,24,24,24,24,24,24,24,24,23,23,24,23,23,23,24,24,23,23,24,24,24,24,23,23,24,24,24,24,24,24,24,24,24,24,24,23,24,24,24,24,24,24,24,24,24,24,24,23,23,24,24,24,24,24,24,24,24,23,23,23,23,24,24,23,24,24,24,24,24,24,23,23,23,24,23,23,23,23,24,24,24,24],"height":60,"id":1,"name":"Tile Layer 1","opacity":1,"type":"tilelayer","visible":true,"width":60,"x":0,"y":0}],"nextlayerid":2,"nextobjectid":1,"orientation":"isometric","renderorder":"right-down","tiledversion":"1.4.3","tileheight":32,"tilesets":[{"columns":4,"firstgid":1,"image":"isometric-grass-and-water.png","imageheight":384,"imagewidth":256,"margin":0,"name":"isometric_grass_and_water","spacing":0,"terrains":[{"name":"Grass","tile":0},{"name":"Water","tile":22}],"tilecount":24,"tileheight":64,"tileoffset":{"x":0,"y":16},"tiles":[{"id":0,"terrain":[0,0,0,0]},{"id":1,"terrain":[0,0,0,0]},{"id":2,"terrain":[0,0,0,0]},{"id":3,"terrain":[0,0,0,0]},{"id":4,"terrain":[0,0,0,1]},{"id":5,"terrain":[0,0,1,0]},{"id":6,"terrain":[1,0,0,0]},{"id":7,"terrain":[0,1,0,0]},{"id":8,"terrain":[0,1,1,1]},{"id":9,"terrain":[1,0,1,1]},{"id":10,"terrain":[1,1,1,0]},{"id":11,"terrain":[1,1,0,1]},{"id":12,"terrain":[0,0,1,1]},{"id":13,"terrain":[1,0,1,0]},{"id":14,"terrain":[1,1,0,0]},{"id":15,"terrain":[0,1,0,1]},{"id":16,"terrain":[0,0,1,1]},{"id":17,"terrain":[1,0,1,0]},{"id":18,"terrain":[1,1,0,0]},{"id":19,"terrain":[0,1,0,1]},{"id":20,"terrain":[0,1,1,0]},{"id":21,"terrain":[1,0,0,1]},{"id":22,"terrain":[1,1,1,1]},{"id":23,"terrain":[1,1,1,1]}],"tilewidth":64}],"tilewidth":64,"type":"map","version":1.4,"width":60}')},"27be":function(e,t,i){"use strict";i("f87a")},"40f7":function(e,t,i){e.exports=i.p+"img/zombie.188302dd.png"},cd49:function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23");function s(e,t,i,s,a,r){var o=Object(n["g"])("Game");return Object(n["d"])(),Object(n["b"])(o)}var a=i("d4ec"),r=i("262e"),o=i("2caf"),c=i("9ab4"),h=i("ce1f"),u={ref:"root"};function l(e,t,i,s,a,r){return Object(n["d"])(),Object(n["b"])("div",u,null,512)}var d,f=i("b85c"),m=i("bee2"),y=(i("07ac"),i("caad"),i("d4ef")),v=i.n(y),p=i("257e"),b=i("45eb"),g=i("7e84"),k={idle:{startFrame:0,endFrame:4},walk:{startFrame:4,endFrame:12},attack:{startFrame:12,endFrame:20},die:{startFrame:20,endFrame:28,once:!0},shoot:{startFrame:28,endFrame:32}},w=k,x={west:{offset:0,x:-2,y:0},northWest:{offset:32,x:-2,y:-1},north:{offset:64,x:0,y:-2},northEast:{offset:96,x:2,y:-1},east:{offset:128,x:2,y:0},southEast:{offset:160,x:2,y:1},south:{offset:192,x:0,y:2},southWest:{offset:224,x:-2,y:1}},j=x;(function(e){e["idle"]="idle",e["walk"]="walk",e["attack"]="attack",e["die"]="die",e["shoot"]="shoot"})(d||(d={}));var O,P=function(e,t){return e.input.keyboard.addKey(t).isDown};function F(e){return e.scene.input.mousePointer.isDown}function G(e){var t=e.scene.input.mousePointer,i=e.scene.cameras.main;return Phaser.Math.Angle.Between(e.x,e.y,t.x+i.scrollX,t.y+i.scrollY)}function W(e){var t=G(e);return t>-1.9625&&t<-1.1775?O.north:t>-1.1775&&t<-.3925?O.northEast:t>-.3925&&t<.3925?O.east:t>.3925&&t<1.1775?O.southEast:t>1.1775&&t<1.9625?O.south:t>1.9625&&t<2.7475?O.southWest:t>2.7475||t<-2.7475?O.west:t>-2.7475&&t<-1.9625?O.northWest:O.north}function A(e){var t=G(e);return{x:2*Math.cos(t),y:2*Math.sin(t)}}(function(e){e["west"]="west",e["northWest"]="northWest",e["north"]="north",e["northEast"]="northEast",e["east"]="east",e["southEast"]="southEast",e["south"]="south",e["southWest"]="southWest"})(O||(O={}));var H=function(e,t){var i,n=e.x+e.direction.x*e.info.speed+30,s=e.y+e.direction.y*e.info.speed+30,a=new Phaser.Geom.Rectangle(n,s,20,20),r=Object(f["a"])(t.tileIntersects);try{for(r.s();!(i=r.n()).done;){var o=i.value,c=Phaser.Geom.Intersects.GetRectangleIntersection(o,a);if(c.x)return!0}}catch(h){r.e(h)}finally{r.f()}return!1},D=function(e){Object(r["a"])(i,e);var t=Object(o["a"])(i);function i(e){var n;return Object(a["a"])(this,i),n=t.call(this,e,0,0,"skeleton"),n.info={health:1e3,power:1,powerArea:30,speed:1},n.motion=d.idle,n.dir=O.west,n.directionPoints={x:0,y:0},n.f=n.animation.startFrame,n.scene.time.delayedCall(100,n.changeFrame,[],Object(p["a"])(n)),n.line=n.scene.add.line(0,0,60,0,0,0,16711680),n}return Object(m["a"])(i,[{key:"animation",get:function(){return w[this.motion]}},{key:"direction",get:function(){return j[this.dir]}},{key:"area",get:function(){return new Phaser.Geom.Circle(this.x+0,this.y+20,30)}},{key:"areaAttack",get:function(){return new Phaser.Geom.Circle(this.x+30*this.directionPoints.x,this.y+30*this.directionPoints.y,this.info.powerArea)}},{key:"request",get:function(){return{directionPoints:this.directionPoints,x:this.x,y:this.y,dir:this.dir,motion:this.motion,info:this.info}}},{key:"updateLine",value:function(){var e=this.info.health/2;this.line.x=this.x-(e-64)/2,this.line.y=this.y-40,this.line.setTo(e<0?0:e,0,0,0)}},{key:"reset",value:function(){var e=this.scene,t=e.getRandPosition();this.x=t.x,this.y=t.y,this.setAnimation(d.idle),this.info.health=100,this.setDepth(100)}},{key:"changeFrame",value:function(){this.f++,this.f===this.animation.endFrame?void 0!==this.animation.once&&this.animation.once?this.f=this.animation.endFrame-1:this.f=this.animation.startFrame:this.frame=this.texture.get(this.direction.offset+this.f),this.scene&&this.scene.time.delayedCall(100,this.changeFrame,[],this)}},{key:"setAnimation",value:function(e){this.motion!==e&&(this.motion=e,this.f=this.animation.startFrame,this.frame=this.texture.get(this.direction.offset+this.f))}},{key:"updateDirectionPoints",value:function(){this.directionPoints=A(this)}},{key:"setDirection",value:function(){this.dir=W(this)}},{key:"setMove",value:function(){H(this,this.scene)||(this.x+=this.directionPoints.x*this.info.speed,this.y+=this.directionPoints.y*this.info.speed)}},{key:"update",value:function(){var e=P(this.scene,"R"),t=P(this.scene,"SPACE");e&&this.isDie()&&this.reset(),this.isDie()||(F(this)&&(this.updateDirectionPoints(),this.setDirection()),F(this)&&!t&&(this.setAnimation(d.walk),this.setMove()),t&&this.setAnimation(d.attack),F(this)||t||this.setAnimation(d.idle),this.updateLine())}},{key:"set",value:function(e){var t=e.x,i=e.y,n=e.motion,s=e.dir,a=e.directionPoints,r=e.info;this.directionPoints=a,this.setAnimation(n),this.dir=s,this.x=t,this.y=i,this.info=r}},{key:"setAttack",value:function(e){this.info.health-=e,this.isDie()&&(this.setAnimation(d.die),this.setDepth(0))}},{key:"addHealth",value:function(e){this.info.health+=e}},{key:"isDie",value:function(){return this.info.health<=0}},{key:"destroy",value:function(){this.line.destroy(),Object(b["a"])(Object(g["a"])(i.prototype),"destroy",this).call(this)}}]),i}(y["GameObjects"].Image),C=D,M=function(e){Object(r["a"])(i,e);var t=Object(o["a"])(i);function i(){return Object(a["a"])(this,i),t.apply(this,arguments)}return Object(m["a"])(i,[{key:"update",value:function(){this.setAnimation(this.motion),this.updateLine()}}]),i}(C),E=M,I=function(e){Object(r["a"])(i,e);var t=Object(o["a"])(i);function i(e,n,s,r,o){var c;return Object(a["a"])(this,i),c=t.call(this,e,n,s,"heart"),c.used=!1,c.f=0,c.id=r,c.value=o,c.scene.time.delayedCall(100,c.changeFrame,[],Object(p["a"])(c)),c}return Object(m["a"])(i,[{key:"changeFrame",value:function(){this.f++,10===this.f&&(this.f=0),this.frame=this.texture.get(this.f),this.scene&&this.scene.time.delayedCall(100,this.changeFrame,[],this)}},{key:"area",get:function(){return new Phaser.Geom.Circle(this.x,this.y,30)}}]),i}(y["GameObjects"].Image),B=I,S=(i("d81d"),i("8e27")),T=function(){function e(){Object(a["a"])(this,e)}return Object(m["a"])(e,[{key:"connect",value:function(e){var t=this,i="ws://46.17.40.175:3000";this.client=Object(S["io"])(i,{reconnectionDelayMax:1e3}),this.client.on("connect",(function(){t.id=t.client.id,e()}))}},{key:"init",value:function(e){var t=e.request;t.id=this.id,this.client.emit("init",t)}},{key:"onInit",value:function(e){this.client.on("init",(function(t){e(t)}))}},{key:"emit",value:function(e){var t=e.request;t.id=this.id,this.client.emit("emit",t)}},{key:"onEmit",value:function(e){this.client.on("emit",(function(t){e(t)}))}},{key:"onDisconect",value:function(e){this.client.on("disconectitem",(function(t){e(t)}))}},{key:"onBonus",value:function(e){this.client.on("bonus",(function(t){e(t)}))}},{key:"onRemoveBonus",value:function(e){this.client.on("removebonus",(function(t){e(t)}))}},{key:"removeBonus",value:function(e){this.client.emit("removebonus",e)}},{key:"initBonuses",value:function(e){this.client.emit("initbonuses",e.map((function(e){var t=e.x,i=e.y,n=e.id,s=e.value;return{x:t,y:i,id:n,value:s}})))}},{key:"onInitBonuses",value:function(e){this.client.on("initbonuses",(function(t){e(t)}))}}]),e}(),_=function(e){return e[Math.floor(Math.random()*e.length)]};function L(e,t){t.used||e.addHealth(t.value),t.used=!0}function R(e,t){var i=Phaser.Geom.Intersects.GetCircleToCircle(e.area,t.areaAttack);i.length>0&&t.motion===d.attack&&q(e,t)}function q(e,t){var i=Phaser.Math.Distance.Between(e.x,e.y,t.x,t.y),n=1-i/(30+t.info.powerArea);n<0&&(n=0),e.setAttack(t.info.power*n)}var z=function(e,t,i,n){var s,a=Object(f["a"])(n);try{for(a.s();!(s=a.n()).done;){var r=s.value,o=Phaser.Geom.Intersects.GetCircleToCircle(t.area,r.area);o.length>0&&(L(t,r),e.removeBonus(r.id))}}catch(d){a.e(d)}finally{a.f()}var c,h=Object(f["a"])(i);try{for(h.s();!(c=h.n()).done;){var u=c.value,l=Phaser.Geom.Intersects.GetCircleToCircle(t.area,u.area);l.length>0&&R(t,u)}}catch(d){h.e(d)}finally{h.f()}},J=function(e){Object(r["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.call(this,{key:"GameScene"}),e.tileIntersects=[],e.skeletons={},e.visitingLands=[],e.bonuses={},e.lastTime=0,e.delayEmit=50,e}return Object(m["a"])(n,[{key:"preload",value:function(){this.load.json("map",i("1f89")),this.load.spritesheet("heart",i("fa49"),{frameWidth:20,frameHeight:20}),this.load.spritesheet("tiles",i("faa3"),{frameWidth:64,frameHeight:64}),this.load.spritesheet("skeleton",i("fefe"),{frameWidth:128,frameHeight:128}),this.load.spritesheet("zombie",i("40f7"),{frameWidth:128,frameHeight:128}),this.load.image("house",i("f4c9"))}},{key:"create",value:function(){var e=this;this.cameras.main.setSize(window.innerWidth,window.innerHeight),this.client=new T,this.client.connect((function(){e.buildMap(),e.placeHouses(),e.user=e.add.existing(new C(e)),e.user.reset(),e.client.init(e.user),e.client.onInit((function(t){var i=t.id;e.skeletons[i]||(e.client.init(e.user),e.client.initBonuses(Object.values(e.bonuses)),e.skeletons[i]=e.add.existing(new E(e)))})),e.client.onEmit((function(t){e.skeletons[t.id]?e.skeletons[t.id].set(t):e.skeletons[t.id]=e.add.existing(new E(e))})),e.client.onDisconect((function(t){e.skeletons[t]&&(e.skeletons[t].destroy(),delete e.skeletons[t])})),e.client.onBonus((function(t){e.bonuses[t.id]=e.add.existing(new B(e,t.x,t.y,t.id,t.value))})),e.client.onRemoveBonus((function(t){e.bonuses[t]&&(e.bonuses[t].destroy(),delete e.bonuses[t])})),e.client.onInitBonuses((function(t){var i,n=Object(f["a"])(t);try{for(n.s();!(i=n.n()).done;){var s=i.value;e.bonuses[s.id]||(e.bonuses[s.id]=e.add.existing(new B(e,s.x,s.y,s.id,s.value)))}}catch(a){n.e(a)}finally{n.f()}}))}))}},{key:"getRandPosition",value:function(){return _(this.visitingLands)}},{key:"update",value:function(){if(this.user){for(var e in this.user.update(),this.skeletons)this.skeletons[e]&&this.skeletons[e].update();z(this.client,this.user,Object.values(this.skeletons),Object.values(this.bonuses)),this.cameras.main.scrollX=this.user.x-window.innerWidth/2,this.cameras.main.scrollY=this.user.y-window.innerHeight/2,this.time.now-this.lastTime>this.delayEmit&&(this.client.emit(this.user),this.lastTime=this.time.now)}}},{key:"buildMap",value:function(){var e=this.cache.json.get("map"),t=e.tilewidth,i=e.tileheight;this.tileWidthHalf=t/2,this.tileHeightHalf=i/2;for(var n=e.layers[0].data,s=e.layers[0].width,a=e.layers[0].height,r=1600,o=1600,c=0,h=0;h<a;h++)for(var u=0;u<s;u++){var l=n[c]-1,d=(u-h)*this.tileWidthHalf,f=(u+h)*this.tileHeightHalf,m=this.add.image(r+d,o+f,"tiles",l);[22,23].includes(l)&&this.tileIntersects.push(new Phaser.Geom.Rectangle(m.x-10,m.y-10,m.width,m.height)),[1,2,3].includes(l)&&this.visitingLands.push({x:m.x+t/2,y:m.y+i/2}),c++}}},{key:"placeHouses",value:function(){}}]),n}(y["Scene"]),X={setup:function(){var e=Object(n["f"])(null);return Object(n["c"])((function(){var t={type:v.a.WEBGL,width:window.innerWidth,height:window.innerHeight,backgroundColor:"#ababab",parent:e.value,scene:[J]};new v.a.Game(t)})),{root:e}}};X.render=l;var Y=X,K=function(e){Object(r["a"])(i,e);var t=Object(o["a"])(i);function i(){return Object(a["a"])(this,i),t.apply(this,arguments)}return i}(h["b"]);K=Object(c["a"])([Object(h["a"])({components:{Game:Y}})],K);var N=K;i("27be");N.render=s;var Q=N;Object(n["a"])(Q).mount("#app")},f4c9:function(e,t,i){e.exports=i.p+"img/rem_0002.96c367bb.png"},f87a:function(e,t,i){},fa49:function(e,t,i){e.exports=i.p+"img/heart.b786a753.png"},faa3:function(e,t,i){e.exports=i.p+"img/isometric-grass-and-water.9b79d53a.png"},fefe:function(e,t,i){e.exports=i.p+"img/skeleton8.1b384832.png"}});
//# sourceMappingURL=app.c8cdb20c.js.map