(function(t){function e(e){for(var s,r,h=e[0],o=e[1],c=e[2],u=0,l=[];u<h.length;u++)r=h[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&l.push(a[r][0]),a[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(l.length)l.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,h=1;h<i.length;h++){var o=i[h];0!==a[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var h=window["webpackJsonp"]=window["webpackJsonp"]||[],o=h.push.bind(h);h.push=e,h=h.slice();for(var c=0;c<h.length;c++)e(h[c]);var d=o;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},2743:function(t,e,i){},"2e40":function(t){t.exports=JSON.parse('{"height":25,"layers":[{"data":[24,24,23,11,19,19,12,23,24,24,23,7,2,2,1,4,2,2,3,4,4,1,3,4,1,24,23,23,14,3,3,8,12,24,24,18,4,1,3,1,3,3,4,4,1,3,1,4,3,4,11,15,15,7,1,4,3,20,23,11,7,2,1,3,1,3,4,4,3,2,2,3,4,2,1,18,4,3,2,2,4,3,8,12,18,2,4,4,3,3,1,4,2,1,4,4,4,1,1,1,14,2,1,4,2,1,4,2,8,7,5,17,6,3,3,3,4,3,4,4,3,2,4,3,4,10,6,2,1,4,4,1,3,4,3,8,12,10,6,2,1,1,1,1,2,1,4,2,1,1,24,18,1,2,4,3,3,5,6,5,13,9,11,7,3,4,1,3,1,3,4,2,4,4,4,24,14,4,2,5,6,2,8,22,9,23,24,10,6,2,1,3,1,5,6,2,3,4,4,2,19,7,3,1,8,7,4,1,8,12,24,23,23,10,17,6,3,1,8,7,1,3,3,3,1,1,2,4,2,2,3,3,4,3,20,24,23,23,23,23,18,2,2,3,1,4,4,1,1,1,3,3,5,13,6,1,2,2,5,9,23,23,24,23,24,14,1,3,1,1,3,3,4,4,4,2,4,16,24,10,6,2,4,20,23,23,24,23,23,24,14,2,4,2,4,5,6,4,3,1,3,1,20,23,24,10,6,3,8,12,24,23,23,23,24,14,1,2,1,5,9,18,4,3,4,4,2,8,12,23,24,18,4,3,16,24,24,24,23,24,18,1,3,1,16,24,14,1,3,2,4,1,2,8,12,24,14,4,1,8,15,12,24,23,11,7,2,1,2,16,23,18,1,4,2,3,4,3,2,8,19,7,2,2,3,3,8,15,19,7,3,1,2,5,9,24,14,1,2,3,2,2,1,4,4,1,2,5,6,2,2,2,1,3,4,3,5,13,9,24,24,18,4,3,4,1,4,1,3,2,5,13,9,14,3,1,3,2,4,4,5,21,19,12,24,11,7,1,2,3,2,1,3,3,3,20,23,24,18,4,4,2,3,1,1,8,7,5,9,23,18,1,3,4,2,4,2,4,1,2,8,15,19,7,4,5,6,4,2,4,5,17,9,23,11,22,13,6,4,1,3,2,2,4,4,3,2,1,4,2,8,7,4,2,3,16,24,23,11,7,16,23,18,3,1,1,3,1,2,3,3,3,4,2,1,3,2,3,4,3,8,15,15,7,4,8,19,7,3,4,1,2,3,4,1,3,4,4,4,1,4,4,3,2,3,4,1,2,4,2,1,2,2,4,1,4,2,3,2,1,4,2,2,1,2,2,2,4,3,3,2,3,3,2,3,2,4,1,3,1,1,1,1,4,1,3,3,2,1,4,2,1,3,1,3,3,4,3,4,2,1,2,3,1,1],"height":25,"name":"Tile Layer 1","opacity":1,"type":"tilelayer","visible":true,"width":25,"x":0,"y":0}],"nextobjectid":1,"orientation":"isometric","properties":{},"renderorder":"right-down","tileheight":32,"tilesets":[{"firstgid":1,"image":"isometric-grass-and-water.png","imageheight":384,"imagewidth":256,"margin":0,"name":"isometric_grass_and_water","properties":{},"spacing":0,"terrains":[{"name":"Grass","tile":0},{"name":"Water","tile":22}],"tileheight":64,"tileoffset":{"x":0,"y":16},"tiles":{"0":{"terrain":[0,0,0,0]},"1":{"terrain":[0,0,0,0]},"2":{"terrain":[0,0,0,0]},"3":{"terrain":[0,0,0,0]},"4":{"terrain":[0,0,0,1]},"5":{"terrain":[0,0,1,0]},"6":{"terrain":[1,0,0,0]},"7":{"terrain":[0,1,0,0]},"8":{"terrain":[0,1,1,1]},"9":{"terrain":[1,0,1,1]},"10":{"terrain":[1,1,1,0]},"11":{"terrain":[1,1,0,1]},"12":{"terrain":[0,0,1,1]},"13":{"terrain":[1,0,1,0]},"14":{"terrain":[1,1,0,0]},"15":{"terrain":[0,1,0,1]},"16":{"terrain":[0,0,1,1]},"17":{"terrain":[1,0,1,0]},"18":{"terrain":[1,1,0,0]},"19":{"terrain":[0,1,0,1]},"20":{"terrain":[0,1,1,0]},"21":{"terrain":[1,0,0,1]},"22":{"terrain":[1,1,1,1]},"23":{"terrain":[1,1,1,1]}},"tilewidth":64}],"tilewidth":64,"version":1,"width":25}')},"40f7":function(t,e,i){t.exports=i.p+"img/zombie.188302dd.png"},"49ea":function(t,e,i){"use strict";i("2743")},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("7a23");function a(t,e,i,a,n,r){var h=Object(s["g"])("Game");return Object(s["d"])(),Object(s["b"])(h)}var n=i("d4ec"),r=i("262e"),h=i("2caf"),o=i("9ab4"),c=i("ce1f"),d={ref:"root"};function u(t,e,i,a,n,r){return Object(s["d"])(),Object(s["b"])("div",d,null,512)}var l=i("bee2"),f=(i("159b"),i("d4ef")),p=i.n(f),m=i("257e"),g={idle:{startFrame:0,endFrame:4,speed:.2},walk:{startFrame:4,endFrame:12,speed:.15},attack:{startFrame:12,endFrame:20,speed:.11},die:{startFrame:20,endFrame:28,speed:.2},shoot:{startFrame:28,endFrame:32,speed:.1}},w=g,y={west:{offset:0,x:-2,y:0,opposite:"east"},northWest:{offset:32,x:-2,y:-1,opposite:"southEast"},north:{offset:64,x:0,y:-2,opposite:"south"},northEast:{offset:96,x:2,y:-1,opposite:"southWest"},east:{offset:128,x:2,y:0,opposite:"west"},southEast:{offset:160,x:2,y:1,opposite:"northWest"},south:{offset:192,x:0,y:2,opposite:"north"},southWest:{offset:224,x:-2,y:1,opposite:"northEast"}},b=y,k=function(t){Object(r["a"])(i,t);var e=Object(h["a"])(i);function i(t,s,a,r,h,o){var c;return Object(n["a"])(this,i),c=e.call(this,t,s,a,"skeleton",h.offset),c.startX=s,c.startY=a,c.distance=o,c.motion=r,c.anim=w[r],c.direction=b[h],c.speed=.15,c.f=c.anim.startFrame,c.depth=a+64,c.scene.time.delayedCall(1e3*c.anim.speed,c.changeFrame,[],Object(m["a"])(c)),c}return Object(l["a"])(i,[{key:"changeFrame",value:function(){this.f++;var t=this.anim.speed;if(this.f===this.anim.endFrame)switch(this.motion){case"walk":this.f=this.anim.startFrame,this.frame=this.texture.get(this.direction.offset+this.f),this.scene.time.delayedCall(1e3*t,this.changeFrame,[],this);break;case"attack":t=2*Math.random(),this.scene.time.delayedCall(1e3*t,this.resetAnimation,[],this);break;case"idle":t=.5+Math.random(),this.scene.time.delayedCall(1e3*t,this.resetAnimation,[],this);break;case"die":t=6+6*Math.random(),this.scene.time.delayedCall(1e3*t,this.resetAnimation,[],this);break}else this.frame=this.texture.get(this.direction.offset+this.f),this.scene.time.delayedCall(1e3*t,this.changeFrame,[],this)}},{key:"resetAnimation",value:function(){this.f=this.anim.startFrame,this.frame=this.texture.get(this.direction.offset+this.f),this.scene.time.delayedCall(1e3*this.anim.speed,this.changeFrame,[],this)}},{key:"update",value:function(){"walk"===this.motion&&(this.x+=this.direction.x*this.speed,0!==this.direction.y&&(this.y+=this.direction.y*this.speed,this.depth=this.y+64),Phaser.Math.Distance.Between(this.startX,this.startY,this.x,this.y)>=this.distance&&(this.direction=b[this.direction.opposite],this.f=this.anim.startFrame,this.frame=this.texture.get(this.direction.offset+this.f),this.startX=this.x,this.startY=this.y))}}]),i}(f["GameObjects"].Image),v=k,x=function(t){Object(r["a"])(i,t);var e=Object(h["a"])(i);function i(t,s,a,r,h){var o;return Object(n["a"])(this,i),o=e.call(this,t,s,a,"skeleton",h.offset),o.startX=s,o.startY=a,o.anim=w[r],o.direction=b[h],o.speed=.4,o.f=o.anim.startFrame,o.depth=a+64,o.motion=r,o.scene.time.delayedCall(200,o.changeFrame,[],Object(m["a"])(o)),o}return Object(l["a"])(i,[{key:"changeFrame",value:function(){this.f++,this.f===this.anim.endFrame?this.f=this.anim.startFrame:this.frame=this.texture.get(this.direction.offset+this.f),this.scene.time.delayedCall(200,this.changeFrame,[],this)}},{key:"runAnimation",value:function(t){console.log(t),this.motion!==t&&(this.anim=w[t],this.motion=t,this.f=this.anim.startFrame,this.frame=this.texture.get(this.direction.offset+this.f))}},{key:"isDown",value:function(t){return this.scene.input.keyboard.addKey(t).isDown}},{key:"setDirection",value:function(t){this.direction=b[t]}},{key:"updateDirection",value:function(){this.x+=this.direction.x*this.speed,this.y+=this.direction.y*this.speed}},{key:"update",value:function(){var t=this.isDown("W"),e=this.isDown("D"),i=this.isDown("S"),s=this.isDown("A");!t||e||i||s||(this.setDirection("north"),this.updateDirection(),this.runAnimation("walk")),t&&e&&!i&&!s&&(this.setDirection("northEast"),this.updateDirection(),this.runAnimation("walk")),t||!e||i||s||(this.setDirection("east"),this.updateDirection(),this.runAnimation("walk")),!t&&e&&i&&!s&&(this.setDirection("southEast"),this.updateDirection(),this.runAnimation("walk")),t||e||!i||s||(this.setDirection("south"),this.updateDirection(),this.runAnimation("walk")),!t&&!e&&i&&s&&(this.setDirection("southWest"),this.updateDirection(),this.runAnimation("walk")),t||e||i||!s||(this.setDirection("west"),this.updateDirection(),this.runAnimation("walk")),t&&!e&&!i&&s&&(this.setDirection("northWest"),this.updateDirection(),this.runAnimation("walk")),t||e||i||s||this.runAnimation("idle")}}]),i}(f["GameObjects"].Image),j=x,O=function(t){Object(r["a"])(s,t);var e=Object(h["a"])(s);function s(){var t;return Object(n["a"])(this,s),t=e.call(this,{key:"GameScene"}),t.skeletons=[],t}return Object(l["a"])(s,[{key:"preload",value:function(){this.load.json("map",i("2e40")),this.load.spritesheet("tiles",i("faa3"),{frameWidth:64,frameHeight:64}),this.load.spritesheet("skeleton",i("fefe"),{frameWidth:128,frameHeight:128}),this.load.spritesheet("zombie",i("40f7"),{frameWidth:128,frameHeight:128}),this.load.image("house",i("f4c9"))}},{key:"create",value:function(){this.buildMap(),this.placeHouses(),this.user=this.add.existing(new j(this,500,500,"idle","west")),this.skeletons.push(this.add.existing(new v(this,240,290,"walk","west",100))),this.skeletons.push(this.add.existing(new v(this,100,380,"walk","southEast",230))),this.skeletons.push(this.add.existing(new v(this,620,140,"walk","south",380))),this.skeletons.push(this.add.existing(new v(this,460,180,"idle","south",0))),this.skeletons.push(this.add.existing(new v(this,760,100,"attack","southEast",0))),this.skeletons.push(this.add.existing(new v(this,800,140,"attack","northWest",0))),this.skeletons.push(this.add.existing(new v(this,750,480,"walk","east",200))),this.skeletons.push(this.add.existing(new v(this,1030,300,"die","west",0))),this.skeletons.push(this.add.existing(new v(this,1180,340,"attack","northEast",0))),this.skeletons.push(this.add.existing(new v(this,1180,180,"walk","southEast",160))),this.skeletons.push(this.add.existing(new v(this,1450,320,"walk","southWest",320))),this.skeletons.push(this.add.existing(new v(this,1500,340,"walk","southWest",340))),this.skeletons.push(this.add.existing(new v(this,1550,360,"walk","southWest",330))),this.cameras.main.setSize(window.innerWidth,window.innerHeight)}},{key:"update",value:function(){this.skeletons.forEach((function(t){t.update()})),this.user.update()}},{key:"buildMap",value:function(){var t=this.cache.json.get("map"),e=t.tilewidth,i=t.tileheight;this.tileWidthHalf=e/2,this.tileHeightHalf=i/2;for(var s=t.layers[0].data,a=t.layers[0].width,n=t.layers[0].height,r=a*this.tileWidthHalf,h=16,o=0,c=0;c<n;c++)for(var d=0;d<a;d++){var u=s[o]-1,l=(d-c)*this.tileWidthHalf,f=(d+c)*this.tileHeightHalf,p=this.add.image(r+l,h+f,"tiles",u);p.depth=h+f,o++}}},{key:"placeHouses",value:function(){var t=this.add.image(240,370,"house");t.depth=t.y+86;var e=this.add.image(1300,290,"house");e.depth=e.y+86}}]),s}(f["Scene"]),F={setup:function(){var t=Object(s["f"])(null);return Object(s["c"])((function(){var e={type:p.a.WEBGL,width:window.innerWidth,height:window.innerHeight-5,backgroundColor:"#ababab",parent:t.value,scene:[O]};new p.a.Game(e)})),{root:t}}};F.render=u;var D=F,W=function(t){Object(r["a"])(i,t);var e=Object(h["a"])(i);function i(){return Object(n["a"])(this,i),e.apply(this,arguments)}return i}(c["b"]);W=Object(o["a"])([Object(c["a"])({components:{Game:D}})],W);var A=W;i("49ea");A.render=a;var H=A;Object(s["a"])(H).mount("#app")},f4c9:function(t,e,i){t.exports=i.p+"img/rem_0002.96c367bb.png"},faa3:function(t,e,i){t.exports=i.p+"img/isometric-grass-and-water.9b79d53a.png"},fefe:function(t,e,i){t.exports=i.p+"img/skeleton8.1b384832.png"}});
//# sourceMappingURL=app.c54f1fbe.js.map